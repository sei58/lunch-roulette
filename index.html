<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ëŠ˜ì˜ ì ì‹¬</title>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ (PC í™”ë©´ì— ì í•©í•œ ê°„ê²©) */
        body {
            margin: 0;
            font-family: 'Gowun Dodum', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(to bottom, #a8d8ff, #ffffff);
            color: #333;
            overflow-x: hidden; /* ê°€ë¡œ ìŠ¤í¬ë¡¤ë°” ì œê±° */
        }

        .container {
            text-align: center;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 30px 50px; /* PC ê³ ì • íŒ¨ë”© */
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 1;
            width: 90%;
            max-width: 500px; /* PCì—ì„œëŠ” ìµœëŒ€ ë„ˆë¹„ ì œí•œ */
            box-sizing: border-box;
        }

        .title {
            font-size: 2.5em;
            font-weight: bold;
            color: #333;
            margin-bottom: 30px; /* PC ê³ ì • ë§ˆì§„ */
            display: flex;
            align-items: center;
            justify-content: center;
            white-space: nowrap;
        }

        .title .emoji {
            font-size: 1.2em;
            vertical-align: middle;
            margin: 0 10px; /* PC ê³ ì • ë§ˆì§„ */
        }

        .slot-machine {
            width: 100%;
            height: 100px; /* ìŠ¬ë¡¯ ë¨¸ì‹  ë†’ì´ */
            border: 5px solid rgb(190, 214, 0);
            border-radius: 15px;
            background-color: #fff;
            margin: 0 auto 30px; /* PC ê³ ì • ë§ˆì§„ */
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden; /* ìŠ¬ë¡¯ ì•„ì´í…œì´ ì´ ì˜ì—­ ì•ˆì—ì„œë§Œ ë³´ì´ë„ë¡ */
            position: relative;
        }

        .slot-content-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .slot-item {
            font-size: 1.4em;
            font-weight: bold;
            color: #555;
            height: 100px; /* â­ ìŠ¬ë¡¯ ì•„ì´í…œ ë†’ì´ (JavaScriptì—ì„œ ì´ ê°’ì„ ë™ì ìœ¼ë¡œ ê°€ì ¸ì˜´) */
            line-height: 100px; /* ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ì„ ìœ„í•´ heightì™€ ë™ì¼í•˜ê²Œ */
            width: 100%;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .result-text {
            font-size: 1.5em;
            font-weight: bold;
            color: #666;
            margin-top: 30px; /* PC ê³ ì • ë§ˆì§„ */
            min-height: 30px;
        }

        .result-restaurant-name {
            color: rgb(190, 214, 0);
            font-weight: bold;
            display: inline-block;
        }

        .button-container {
            margin-top: 30px; /* PC ê³ ì • ë§ˆì§„ */
            display: flex;
            justify-content: center;
            gap: 20px; /* PC ê³ ì • ê°„ê²© */
            flex-wrap: nowrap; /* í•­ìƒ í•œ ì¤„ì— ìœ ì§€ë˜ë„ë¡ */
        }

        .btn {
            background-color: rgb(190, 214, 0);
            color: #fff;
            border: none;
            padding: 15px 25px; /* PC ê³ ì • íŒ¨ë”© */
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            flex-shrink: 0; /* ë²„íŠ¼ì´ ì¤„ì–´ë“¤ì§€ ì•Šë„ë¡ ë°©ì§€ */
        }

        .btn:hover {
            background-color: rgb(160, 180, 0);
        }

        .btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }

        /* Help Button Styles */
        .help-button {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 35px;
            height: 35px;
            background-color: rgba(180, 180, 180, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease;
            z-index: 2; /* Ensure it's above other elements but below modals */
        }

        .help-button:hover {
            background-color: rgba(150, 150, 150, 0.9);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 10;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
            justify-content: center;
            align-items: center;
            padding: 20px; /* PC ê³ ì • íŒ¨ë”© */
            box-sizing: border-box;
        }

        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 30px; /* PC ê³ ì • íŒ¨ë”© */
            border: 1px solid #888;
            border-radius: 15px;
            width: 80%; /* PCì—ì„œëŠ” 80% ë„ˆë¹„ */
            max-width: 500px;
            text-align: center;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            box-sizing: border-box;
        }

        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px; /* PC ê³ ì • í¬ê¸° */
            font-weight: bold;
            position: absolute;
            top: 10px; /* PC ê³ ì • ìœ„ì¹˜ */
            right: 20px; /* PC ê³ ì • ìœ„ì¹˜ */
        }

        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        #restaurantInput {
            width: calc(100% - 20px); /* íŒ¨ë”© ê³ ë ¤í•œ ë„ˆë¹„ */
            padding: 10px;
            margin-bottom: 20px;
            border: 2px solid rgb(190, 214, 0);
            border-radius: 8px;
            font-size: 1em;
            height: 80px;
            resize: vertical;
            box-sizing: border-box;
        }

        #addRestaurantToList {
            margin-top: 10px;
        }

        #restaurantListEdit {
            list-style-type: none;
            padding: 0;
            max-height: 300px; /* PC ê³ ì • ë†’ì´ */
            overflow-y: auto;
            text-align: left;
        }

        #restaurantListEdit li {
            background-color: #f0f0f0;
            margin-bottom: 10px;
            padding: 10px 15px;
            border-radius: 8px;
            display: flex; /* â­ Flexbox í™œì„±í™” */
            justify-content: space-between; /* â­ ìš”ì†Œë“¤ì„ ì–‘ ëìœ¼ë¡œ ì •ë ¬ */
            align-items: center; /* â­ ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
            font-size: 1.1em;
            flex-wrap: nowrap; /* â­ ì‹ë‹¹ ì´ë¦„ê³¼ ë²„íŠ¼ ë¬¶ìŒì´ ì¤„ ë°”ê¿ˆ ë˜ì§€ ì•Šë„ë¡ */
        }

        #restaurantListEdit li span {
            flex-grow: 1; /* â­ ì‹ë‹¹ ì´ë¦„ì´ ê°€ëŠ¥í•œ ê³µê°„ì„ ì±„ìš°ë„ë¡ */
            margin-right: 10px;
            word-break: break-all;
            overflow-wrap: break-word;
        }

        /* â­ ë²„íŠ¼ë“¤ì„ ê°ì‹¸ëŠ” ìƒˆë¡œìš´ ë˜í¼ ì¶”ê°€ */
        #restaurantListEdit li .button-wrapper {
            display: flex;
            gap: 5px; /* ë²„íŠ¼ ì‚¬ì´ ê°„ê²© */
            flex-shrink: 0; /* ë²„íŠ¼ ë¬¶ìŒì´ ì¤„ì–´ë“¤ì§€ ì•Šë„ë¡ */
        }

        #restaurantListEdit li .edit-btn,
        #restaurantListEdit li .delete-btn {
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            white-space: nowrap; /* â­ ë²„íŠ¼ í…ìŠ¤íŠ¸ ì¤„ ë°”ê¿ˆ ë°©ì§€ */
            min-width: 45px; /* ë²„íŠ¼ ìµœì†Œ ë„ˆë¹„ í™•ë³´ (í…ìŠ¤íŠ¸ ì¤„ë°”ê¿ˆ ë°©ì§€ì™€ í•¨ê»˜ ì ìš©) */
        }

        #restaurantListEdit li .edit-btn {
            background-color: #009FDA;
        }

        #restaurantListEdit li .edit-btn:hover {
            background-color: #007bb3;
        }

        #restaurantListEdit li .delete-btn {
            background-color: #641F45;
        }

        #restaurantListEdit li .delete-btn:hover {
            background-color: #4a1733;
        }

        #restaurantListEdit li .edit-input {
            width: calc(100% - 120px); /* PC ê³ ì • ë„ˆë¹„ (ë²„íŠ¼ ë„ˆë¹„ ê³ ë ¤) */
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 1em;
            box-sizing: border-box;
        }

        /* Help Modal Specific Styles */
        .help-modal-content {
            padding: 25px;
            text-align: left;
        }

        .help-modal-content h2 {
            font-size: 1.8em;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .help-modal-content p {
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 15px;
            color: #555;
        }

        .help-modal-content p .emoji {
            margin-right: 8px;
            font-size: 1.2em;
        }


        /* --- ë¯¸ë””ì–´ ì¿¼ë¦¬: ì‘ì€ í™”ë©´ (ëª¨ë°”ì¼)ì— ëŒ€í•œ ìµœì í™” --- */
        @media (max-width: 600px) {
            .container {
                padding: 1.5em 1em;
                width: 95%;
            }

            .title {
                font-size: 1.8em;
                margin-bottom: 1em;
            }
            .title .emoji {
                font-size: 1em;
                margin: 0 0.3em;
            }

            .help-button {
                top: 10px;
                left: 10px;
                width: 30px;
                height: 30px;
                font-size: 1em;
            }

            .slot-machine {
                height: 80px;
                border-width: 3px;
                margin-bottom: 1.5em;
            }

            .slot-item {
                font-size: 1.2em;
                height: 80px;
                line-height: 80px;
            }

            .result-text {
                font-size: 1.2em;
                margin-top: 1.5em;
            }

            .btn {
                padding: 0.7em 1em;
                font-size: 0.9em;
                flex-grow: 1;
            }

            .button-container {
                gap: 0.5em;
                margin-top: 1.5em;
            }

            .modal {
                padding: 1em;
            }

            .modal-content {
                padding: 1.5em;
                width: 90%;
            }

            .close-button {
                font-size: 1.8em;
                top: 0.5em;
                right: 0.8em;
            }

            #restaurantInput {
                padding: 0.6em;
                margin-bottom: 1em;
                height: 5em;
            }

            #restaurantListEdit {
                max-height: 40vh;
            }

            #restaurantListEdit li {
                /* â­ flex-direction: column; ì œê±° - í•œ ì¤„ ìœ ì§€ë¥¼ ìœ„í•´ */
                align-items: center; /* â­ ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ ìœ ì§€ */
                margin-bottom: 0.8em;
                padding: 0.8em 1em;
            }

            #restaurantListEdit li span {
                margin-bottom: 0; /* â­ ë¶ˆí•„ìš”í•œ ë§ˆì§„ ì œê±° */
                margin-right: 0.5em; /* â­ ì‹ë‹¹ ì´ë¦„ê³¼ ë²„íŠ¼ ì‚¬ì´ ê°„ê²© */
                flex-grow: 1; /* â­ ì‹ë‹¹ ì´ë¦„ì´ ê°€ëŠ¥í•œ ê³µê°„ì„ ì±„ìš°ë„ë¡ */
                min-width: 0; /* í…ìŠ¤íŠ¸ê°€ ë„˜ì¹  ê²½ìš° ì¤„ë°”ê¿ˆì´ ì•„ë‹Œ ìƒëµë˜ë„ë¡ */
            }

            #restaurantListEdit li .button-wrapper {
                /* â­ flex-shrink: 0; ì´ ì´ë¯¸ ì ìš©ë˜ì–´ ìˆì–´ ì¤„ì–´ë“¤ì§€ ì•ŠìŒ */
                /* width: auto; ë²„íŠ¼ë“¤ì´ ë‚´ìš©ì— ë§ê²Œ ìë™ ì¡°ì ˆë˜ë„ë¡ */
            }

            #restaurantListEdit li .edit-btn,
            #restaurantListEdit li .delete-btn {
                font-size: 0.8em; /* ëª¨ë°”ì¼ì—ì„œ ë²„íŠ¼ ê¸€ì í¬ê¸° ì¡°ê¸ˆ ë” ì¤„ì„ */
                padding: 0.4em 0.7em; /* ëª¨ë°”ì¼ì—ì„œ ë²„íŠ¼ íŒ¨ë”© ì¤„ì„ */
                /* min-width: auto; - nowrap ë•Œë¬¸ì— ìë™ ì¡°ì ˆë¨ */
            }

            #restaurantListEdit li .edit-input {
                width: calc(100% - 100px); /* ëª¨ë°”ì¼ ë²„íŠ¼ ë„ˆë¹„ ê³ ë ¤ */
                padding: 0.4em;
                margin-bottom: 0; /* ë§ˆì§„ ì œê±° */
            }
            .help-modal-content h2 {
                font-size: 1.5em;
            }

            .help-modal-content p {
                font-size: 1em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <button class="help-button" id="helpButton">?</button>
        <h1 class="title">
            <span class="emoji">âœˆï¸</span>
            ì˜¤ëŠ˜ì˜ ì ì‹¬
            <span class="emoji">âœˆï¸</span>
        </h1>

        <div class="slot-machine">
            <div class="slot-content-wrapper"></div>
        </div>

        <p class="result-text"></p>

        <div class="button-container">
            <button id="spinButton" class="btn">ëŒë¦¬ê¸°</button>
            <button id="addButton" class="btn">ì¶”ê°€í•˜ê¸°</button>
            <button id="editButton" class="btn">ëª©ë¡í¸ì§‘</button>
        </div>
    </div>

    
    <footer class="footer">
        <p>&copy; 2025 [ì¸ì‚¬ì „ëµíŒ€ ì¸í„´ í•œì„¸ì§„].</p>
        </footer>

    <div id="addModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>ì‹ë‹¹ ì¶”ê°€í•˜ê¸°</h2>
            <textarea id="restaurantInput" placeholder="ì‹ë‹¹ ì´ë¦„ì„ ì½¤ë§ˆ(,) ë˜ëŠ” ì¤„ ë„ì›€ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ ì…ë ¥í•˜ì„¸ìš”!"></textarea>
            <button id="addRestaurantToList" class="btn">ì¶”ê°€</button>
        </div>
    </div>

    <div id="editModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>ì‹ë‹¹ ëª©ë¡ í¸ì§‘</h2>
            <ul id="restaurantListEdit"></ul>
        </div>
    </div>

    <div id="helpModal" class="modal">
        <div class="modal-content help-modal-content">
            <span class="close-button">&times;</span>
            <h2>ì˜¤ëŠ˜ì˜ ì ì‹¬ ë£°ë › ğŸ½ï¸</h2>
            <p><span class="emoji">ğŸ¤”</span> ë­˜ ë¨¹ì„ì§€ ê³ ë¯¼ë  ë•Œ, 'ëŒë¦¬ê¸°' ë²„íŠ¼ì„ ëˆŒëŸ¬ ì ì‹¬ ì‹ë‹¹ì„ ì •í•´ë³´ì„¸ìš”!</p>
            <p><span class="emoji">â•</span> ìƒˆë¡œìš´ ì‹ë‹¹ì„ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤ë©´ 'ì¶”ê°€í•˜ê¸°' ë²„íŠ¼ì„ ëˆŒëŸ¬ ëª©ë¡ì— ì¶”ê°€í•  ìˆ˜ ìˆì–´ìš”!</p>
            <p><span class="emoji">âœï¸</span> ê¸°ì¡´ ì‹ë‹¹ ëª©ë¡ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ì‚­ì œí•˜ê³  ì‹¶ë‹¤ë©´ 'ëª©ë¡ í¸ì§‘' ë²„íŠ¼ì„ í™œìš©í•˜ì„¸ìš”!</p>
            <p><span class="emoji">âœ¨</span> ëª¨ë“  ì‹ë‹¹ì˜ ë‹¹ì²¨ í™•ë¥ ì€ ë™ì¼í•©ë‹ˆë‹¤!</p>
            <p><span class="emoji">ğŸ”„</span> ì•± ì—…ë°ì´íŠ¸ ë‚´ìš©ì´ ë°˜ì˜ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ë¸Œë¼ìš°ì € ìƒˆë¡œê³ ì¹¨ì´ë‚˜ ì¿ í‚¤/ì‚¬ì´íŠ¸ ë°ì´í„°ë¥¼ ì‚­ì œí•´ë³´ì„¸ìš”!</p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const slotMachine = document.querySelector('.slot-machine');
            const slotContentWrapper = document.querySelector('.slot-content-wrapper');
            const resultText = document.querySelector('.result-text');
            const spinButton = document.getElementById('spinButton');
            const addButton = document.getElementById('addButton');
            const editButton = document.getElementById('editButton');
            const helpButton = document.getElementById('helpButton'); // Help button

            const addModal = document.getElementById('addModal');
            const editModal = document.getElementById('editModal');
            const helpModal = document.getElementById('helpModal'); // Help modal
            const closeButtons = document.querySelectorAll('.close-button');
            const restaurantInput = document.getElementById('restaurantInput');
            const addRestaurantToListButton = document.getElementById('addRestaurantToList');
            const restaurantListEdit = document.getElementById('restaurantListEdit');

            let restaurants = [];
            let itemHeight = 0;
            let isSpinning = false;

            const defaultRestaurants = [
                 'ìƒëª¨ë‹', 'ì„¼ëª¬í…', 'ì œì´ê·¸ë¨', 'ì´ˆì• ì‚¼ê³„íƒ•', 'í•˜ìš°ìŠ¬ë¦¬', 'í—¤ë¦¬ìŠ¤í—¤ì´ìŠ¤', 'ì—¬ê°€ë°˜ìƒ', 
                'ìŠ¤íƒ€ë²…ìŠ¤', 'ë² ì–´ìŠ¤íƒ€ì½”', 'íŒŒë¦¬ë°”ê²Œëœ¨', 'ì½”ì½”ì˜ ì‹íƒ', 'ì˜¤êµ­ë°¥', 'ë³´ì˜ë§Œë‘', 'í•œì†Œì¿°', 
                'ì˜¤ì§€ì˜¤ì»¤í”¼', 'ì†Œí’ê°€ëŠ”ë‚ ', 'ë‚˜ì´ìŠ¤ì¹´í˜ì¸í´ëŸ½', 'ì €ìŠ¤íŠ¸ìƒëŸ¬ë“œ', 'ì˜¬ë¼í¬ì¼€', 'ì°Œë¯¸ì˜¤', 
                'ì»¤í”¼ì‚¬í”¼ì—”ìŠ¤', 'ì›”ìˆ˜ê¸ˆ', 'ê½ˆë¦¬ì¹¼êµ­ìˆ˜', 'ë³¸ë„ì‹œë½', 'ê³„ë‹¨ë¼ë©˜', 'ì‹ ì˜í•œêµ­ìˆ˜', 'í›…íŠ¸í¬ì¼€', 
                'ìœ¡ì±„ë¯¸', 'ì˜ë¯¸ë‹¹ ë‹­ê°ˆë¹„', 'ì—„ë§ˆì†ë·”í˜', 'ëˆíƒœë°±', 'ë§ˆê³¡íšŒê´€', 'í ë² ì´ê¸€', 'ì•¤ë´ì»¤í”¼', 
                'ëŒ€ê°€ì›', 'ëª…ë™ì¹¼êµ­ìˆ˜', 'ì¤‘ì‹ë‹¹ ì²­ê°€', 'í™”ì›”', 'í™ì½©ë°˜ì ', 'ì¹´í˜ë””ì–¼', 'ì´ìì¹´ì•¼ í•˜ë£¨', 
                'ë§ˆê³¡ë™ì†Œë‹´ê¹€ë°¥', 'ê³ ë¦´ë¼ì‰í”„', 'SO GON', 'ë¡œìŠ¤í„°ë¦¬ë½ì˜¨', 'ë¯¼ì˜í™œì–´ê³µì¥', 'ì¡°ì„ ë¶€ëšœë§‰', 
                'ìš¸ë™ë„¤ëšœë¶€ì§‘', 'ì–´ë‹¬ìŠ¤ì‹œ', 'ë¶€ëŒ€ì˜¥', 'ìˆœëŒ€ì‹¤ë¡', 'ìŠ¤íƒ€ë²…ìŠ¤', 'ì˜¤ëª¨ì´', 'ì„¤ë°˜', 'ì‚¬ìœ„ì‹ë‹¹', 
                'ì§„ë§ˆë£¨', 'ì§¬ë½•ì§€ì¡´', 'ë²„ê±°í‚¹(ë§ˆê³¡ì )', 'í—¤ë¹„ìŠ¤í…Œì´í¬', 'ë¯¸ìˆ¯ë­', 'ìƒëŸ¬ë””', 'ì´ˆì´ë‹¤ì´ë‹', 
                'ë€ì½°ì´í‘ëˆ„ë“¤', 'ì‹œë„ë‹ˆì•„', 'í›„ë¼í† ì‹ë‹¹', 'ë‹¹ì‚°í¬ì°¨ ì ì‹¬ë·”í˜', 'ì½œíŠ¸í´ëŸ½', 'ë³¸ì£½&ë¹„ë¹”ë°¥cafe', 
                'ì»´í¬ì¦ˆì»¤í”¼', 'ìƒëŸ¬ë””', 'ì¢…ë¡œê³„ë¦¼ë‹­ë„ë¦¬íƒ•ì›ì¡°', 'ë°•ê°€ë¶€ëŒ€', 'ì „ì£¼í˜„ëŒ€ì˜¥'
            ];

            function loadRestaurants() {
                const storedRestaurants = localStorage.getItem('restaurants');
                if (storedRestaurants) {
                    restaurants = JSON.parse(storedRestaurants);
                } else {
                    restaurants = [...defaultRestaurants];
                    saveRestaurants();
                }
                renderSlotItems();
            }

            function saveRestaurants() {
                localStorage.setItem('restaurants', JSON.stringify(restaurants));
            }

            function renderSlotItems() {
                slotContentWrapper.innerHTML = '';

                if (restaurants.length === 0) {
                    const defaultItem = document.createElement('div');
                    defaultItem.classList.add('slot-item');
                    defaultItem.textContent = 'ì‹ë‹¹ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”!';
                    slotContentWrapper.appendChild(defaultItem);
                    gsap.set(slotContentWrapper, { y: 0 });
                    itemHeight = defaultItem.offsetHeight;
                    return;
                }

                const repeatCount = 10;
                for (let i = 0; i < repeatCount; i++) {
                    restaurants.forEach(restaurant => {
                        const div = document.createElement('div');
                        div.classList.add('slot-item');
                        div.textContent = restaurant;
                        slotContentWrapper.appendChild(div);
                    });
                }

                // ì²« ë²ˆì§¸ ì•„ì´í…œì˜ ë†’ì´ë¥¼ ì¸¡ì •í•˜ì—¬ itemHeight ì„¤ì • (ë Œë”ë§ í›„ ì •í™•í•œ ê°’)
                // ì´ ì‹œì ì—ëŠ” ì´ë¯¸ ìŠ¬ë¡¯ ì•„ì´í…œë“¤ì´ DOMì— ì¶”ê°€ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ì •í™•í•œ ë†’ì´ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                itemHeight = slotContentWrapper.querySelector('.slot-item').offsetHeight;
                gsap.set(slotContentWrapper, { y: 0 });
            }

            spinButton.addEventListener('click', () => {
                if (restaurants.length === 0) {
                    alert('ì‹ë‹¹ ëª©ë¡ì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤. ì‹ë‹¹ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”!');
                    return;
                }
                if (isSpinning) {
                    return;
                }

                isSpinning = true;
                spinButton.disabled = true;
                resultText.innerHTML = '';

                gsap.killTweensOf(slotContentWrapper);
                gsap.set(slotContentWrapper, { y: 0 });

                const totalOriginalItems = restaurants.length;
                const selectedOriginalIndex = Math.floor(Math.random() * totalOriginalItems);

                const revolutions = 5;
                const finalTargetIndex = (revolutions * totalOriginalItems) + selectedOriginalIndex;

                const targetY = -finalTargetIndex * itemHeight;

                gsap.to(slotContentWrapper, {
                    y: targetY,
                    duration: 5,
                    ease: "power4.out",
                    overwrite: "auto",
                    onComplete: () => {
                        const currentY = gsap.getProperty(slotContentWrapper, "y");
                        // ë©ˆì¶˜ ìœ„ì¹˜ì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ ì•„ì´í…œì˜ ì¸ë±ìŠ¤ë¥¼ ê³„ì‚° (ì–‘ìˆ˜ ê°’ìœ¼ë¡œ ë³€í™˜ í›„)
                        const stoppedItemIndex = Math.round(Math.abs(currentY) / itemHeight);
                        const actualSelectedRestaurantIndex = stoppedItemIndex % totalOriginalItems;
                        const actualSelectedRestaurant = restaurants[actualSelectedRestaurantIndex];

                        resultText.innerHTML = `ì˜¤ëŠ˜ì€ <span class="result-restaurant-name">${actualSelectedRestaurant}</span>ì—ì„œ ë¨¹ì–´ìš”!`;
                        spinButton.disabled = false;
                        isSpinning = false;

                        // ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ í›„, ìŠ¬ë¡¯ ë ë¥¼ ë‹¹ì²¨ëœ ì‹ë‹¹ì´ ì •í™•íˆ ì¤‘ì•™ì— ì˜¤ë„ë¡ ìœ„ì¹˜ ì¡°ì •
                        // (ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ í›„ ë¯¸ì„¸í•œ ì˜¤ì°¨ê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¬ì¡°ì •)
                        // ì´ë ‡ê²Œ í•˜ë©´ ë‹¤ìŒ ìŠ¤í•€ì„ ì‹œì‘í•  ë•Œ ì´ˆê¸° ìœ„ì¹˜ê°€ ê¹”ë”í•˜ê²Œ ìœ ì§€ë©ë‹ˆë‹¤.
                        gsap.set(slotContentWrapper, { y: -(revolutions * totalOriginalItems + selectedOriginalIndex) * itemHeight });
                    }
                });
            });

            addRestaurantToListButton.addEventListener('click', () => {
                const inputText = restaurantInput.value.trim();
                if (inputText) {
                    const newRestaurants = inputText.split(/[\n,]+/).map(item => item.trim()).filter(item => item.length > 0);
                    let addedCount = 0;

                    newRestaurants.forEach(newRestaurant => {
                        if (newRestaurant && !restaurants.includes(newRestaurant)) {
                            restaurants.push(newRestaurant);
                            addedCount++;
                        }
                    });

                    if (addedCount > 0) {
                        saveRestaurants();
                        renderSlotItems();
                        alert(`${addedCount}ê°œì˜ ì‹ë‹¹ì´ ëª©ë¡ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!`);
                        addModal.style.display = 'none';
                    } else if (newRestaurants.length > 0) {
                        alert('ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì‹ë‹¹ì´ê±°ë‚˜ ìœ íš¨í•˜ì§€ ì•Šì€ ì…ë ¥ì…ë‹ˆë‹¤.');
                    } else {
                        alert('ì‹ë‹¹ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    }
                } else {
                    alert('ì‹ë‹¹ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                }
            });

            addButton.addEventListener('click', () => {
                addModal.style.display = 'flex';
                restaurantInput.value = '';
                restaurantInput.focus();
            });

            editButton.addEventListener('click', () => {
                renderEditList();
                editModal.style.display = 'flex';
            });

            // Help Button Event Listener
            helpButton.addEventListener('click', () => {
                helpModal.style.display = 'flex';
            });

            function renderEditList() {
                restaurantListEdit.innerHTML = '';
                if (restaurants.length === 0) {
                    restaurantListEdit.innerHTML = '<li>ë“±ë¡ëœ ì‹ë‹¹ì´ ì—†ìŠµë‹ˆë‹¤.</li>';
                    return;
                }
                restaurants.forEach((restaurant, index) => {
                    const listItem = document.createElement('li');
                    const span = document.createElement('span');
                    span.textContent = restaurant;
                    listItem.appendChild(span);

                    // â­ ë²„íŠ¼ë“¤ì„ ê°ì‹¸ëŠ” ìƒˆë¡œìš´ ë˜í¼ ì¶”ê°€
                    const buttonWrapper = document.createElement('div');
                    buttonWrapper.classList.add('button-wrapper');

                    const editButton = document.createElement('button');
                    editButton.classList.add('edit-btn');
                    editButton.textContent = 'ìˆ˜ì •';
                    editButton.dataset.index = index;
                    buttonWrapper.appendChild(editButton);

                    const deleteButton = document.createElement('button');
                    deleteButton.classList.add('delete-btn');
                    deleteButton.textContent = 'ì‚­ì œ';
                    deleteButton.dataset.index = index;
                    buttonWrapper.appendChild(deleteButton);

                    listItem.appendChild(buttonWrapper);
                    restaurantListEdit.appendChild(listItem);
                });

                document.querySelectorAll('.edit-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const indexToEdit = parseInt(e.target.dataset.index);
                        const listItem = e.target.closest('li');
                        const restaurantSpan = listItem.querySelector('span');
                        const originalName = restaurantSpan.textContent;

                        const inputField = document.createElement('input');
                        inputField.type = 'text';
                        inputField.classList.add('edit-input');
                        inputField.value = originalName;

                        listItem.replaceChild(inputField, restaurantSpan);
                        inputField.focus();

                        const saveChanges = () => {
                            const newName = inputField.value.trim();
                            if (newName && newName !== originalName) {
                                if (!restaurants.includes(newName)) {
                                    restaurants[indexToEdit] = newName;
                                    saveRestaurants();
                                    renderEditList();
                                    renderSlotItems();
                                } else {
                                    alert('ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì´ë¦„ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                                    // ë‹¤ì‹œ ì›ë˜ spanìœ¼ë¡œ ë˜ëŒë¦¼
                                    const tempSpan = document.createElement('span');
                                    tempSpan.textContent = originalName;
                                    listItem.replaceChild(tempSpan, inputField);
                                }
                            } else {
                                // ë³€ê²½ì‚¬í•­ì´ ì—†ê±°ë‚˜ ì…ë ¥ì´ ë¹„ì–´ìˆìœ¼ë©´ ì›ë˜ëŒ€ë¡œ ë˜ëŒë¦¼
                                const tempSpan = document.createElement('span');
                                tempSpan.textContent = originalName;
                                listItem.replaceChild(tempSpan, inputField);
                            }
                        };

                        inputField.addEventListener('keypress', (event) => {
                            if (event.key === 'Enter') {
                                saveChanges();
                            }
                        });

                        inputField.addEventListener('blur', () => {
                            saveChanges();
                        });
                    });
                });

                document.querySelectorAll('.delete-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const indexToDelete = parseInt(e.target.dataset.index);
                        const deletedRestaurant = restaurants[indexToDelete];
                        if (confirm(`${deletedRestaurant}ì„(ë¥¼) ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                            restaurants.splice(indexToDelete, 1);
                            saveRestaurants();
                            renderEditList();
                            renderSlotItems();
                        }
                    });
                });
            }

            closeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    addModal.style.display = 'none';
                    editModal.style.display = 'none';
                    helpModal.style.display = 'none'; // Close help modal
                });
            });

            window.addEventListener('click', (event) => {
                if (event.target === addModal) {
                    addModal.style.display = 'none';
                }
                if (event.target === editModal) {
                    editModal.style.display = 'none';
                }
                if (event.target === helpModal) { // Close help modal on outside click
                    helpModal.style.display = 'none';
                }
            });

            loadRestaurants();
            // í°íŠ¸ ë¡œë“œ ì™„ë£Œ í›„ ì •í™•í•œ itemHeightë¥¼ ë‹¤ì‹œ ì¸¡ì • (ì„ íƒ ì‚¬í•­ì´ì§€ë§Œ ì •í™•ë„ë¥¼ ë†’ì„)
            window.addEventListener('load', () => {
                if (slotContentWrapper.querySelector('.slot-item')) {
                    itemHeight = slotContentWrapper.querySelector('.slot-item').offsetHeight;
                }
            });
        });
    </script>
</body>
</html>
