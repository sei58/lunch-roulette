<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ëŠ˜ì˜ ì ì‹¬</title>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ (PC í™”ë©´ì— ì í•©í•œ ê°„ê²©) */
        body {
            margin: 0;
            font-family: 'Gowun Dodum', sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center; /* ì¤‘ì•™ ì •ë ¬ë¡œ ë³€ê²½ */
            align-items: center; /* ê°€ìš´ë° ì •ë ¬ ìœ ì§€ */
            min-height: 100vh;
            background: linear-gradient(to bottom, #a8d8ff, #ffffff);
            color: #333;
            overflow-x: hidden;
        }

        .container {
            text-align: center;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 25px 40px; /* PC íŒ¨ë”© ì¡°ì • */
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 1;
            width: 90%;
            max-width: 500px;
            box-sizing: border-box;
            flex-grow: 0;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            margin-top: 0; /* ì¤‘ì•™ ì •ë ¬ì„ ìœ„í•´ ë§ˆì§„ ì œê±° */
            margin-bottom: 0; /* ì¤‘ì•™ ì •ë ¬ì„ ìœ„í•´ ë§ˆì§„ ì œê±° */
        }

        .title {
            font-size: 2.5em;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px; /* PC ë§ˆì§„ ì¡°ì • */
            display: flex;
            align-items: center;
            justify-content: center;
            white-space: nowrap;
        }

        .title .emoji {
            font-size: 1.2em;
            vertical-align: middle;
            margin: 0 10px;
        }

        .slot-machine {
            width: 100%;
            height: 100px;
            border: 5px solid rgb(190, 214, 0);
            border-radius: 15px;
            background-color: #fff;
            margin: 0 auto 20px; /* PC ë§ˆì§„ ì¡°ì • */
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
        }

        .slot-content-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .slot-item {
            font-size: 1.4em;
            font-weight: bold;
            color: #555;
            height: 100px;
            line-height: 100px;
            width: 100%;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .result-text {
            font-size: 1.5em;
            font-weight: bold;
            color: #666;
            margin-top: 20px; /* PC ë§ˆì§„ ì¡°ì • */
            min-height: 30px;
        }

        .result-restaurant-name {
            color: rgb(190, 214, 0);
            font-weight: bold;
            display: inline-block;
        }

        .button-container {
            margin-top: 20px; /* PC ë§ˆì§„ ì¡°ì • */
            display: flex;
            justify-content: center;
            gap: 15px; /* PC ê°„ê²© ì¡°ì • */
            flex-wrap: nowrap;
        }

        .btn {
            background-color: rgb(190, 214, 0);
            color: #fff;
            border: none;
            padding: 12px 20px; /* PC íŒ¨ë”© ì¡°ì • */
            border-radius: 10px;
            font-size: 1.1em; /* í°íŠ¸ ì‚¬ì´ì¦ˆ ì‚´ì§ ì¤„ì„ */
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
        }

        .btn:hover {
            background-color: rgb(160, 180, 0);
        }

        .btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }

        /* Help Button Styles */
        .help-button {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 35px;
            height: 35px;
            background-color: rgba(180, 180, 180, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease;
            z-index: 2;
        }

        .help-button:hover {
            background-color: rgba(150, 150, 150, 0.9);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 10;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
        }

        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 25px; /* PC íŒ¨ë”© ì¡°ì • */
            border: 1px solid #888;
            border-radius: 15px;
            width: 80%;
            max-width: 500px;
            text-align: center;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            box-sizing: border-box;
        }

        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 20px;
        }

        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        #restaurantInput {
            width: calc(100% - 20px);
            padding: 10px;
            margin-bottom: 15px; /* ë§ˆì§„ ì¡°ì • */
            border: 2px solid rgb(190, 214, 0);
            border-radius: 8px;
            font-size: 1em;
            height: 80px;
            resize: vertical;
            box-sizing: border-box;
        }

        #addRestaurantToList {
            margin-top: 5px; /* ë§ˆì§„ ì¡°ì • */
        }

        #restaurantListEdit {
            list-style-type: none;
            padding: 0;
            max-height: 300px;
            overflow-y: auto;
            text-align: left;
        }

        #restaurantListEdit li {
            background-color: #f0f0f0;
            margin-bottom: 8px; /* ë§ˆì§„ ì¡°ì • */
            padding: 8px 12px; /* íŒ¨ë”© ì¡°ì • */
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.1em;
            flex-wrap: nowrap;
        }

        #restaurantListEdit li span {
            flex-grow: 1;
            margin-right: 10px;
            word-break: break-all;
            overflow-wrap: break-word;
        }

        .help-modal-content {
            padding: 20px; /* íŒ¨ë”© ì¡°ì • */
            text-align: left;
        }

        .help-modal-content h2 {
            font-size: 1.8em;
            color: #333;
            margin-bottom: 15px; /* ë§ˆì§„ ì¡°ì • */
            text-align: center;
        }

        .help-modal-content p {
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 10px; /* ë§ˆì§„ ì¡°ì • */
            color: #555;
        }

        .help-modal-content p .emoji {
            margin-right: 8px;
            font-size: 1.2em;
        }

        /* Footer Styles */
        .footer {
            width: 100%;
            padding: 15px 0;
            text-align: center;
            color: #777;
            font-size: 0.9em;
            flex-shrink: 0;
            margin-top: 20px; /* ë£°ë › ì»¨í…Œì´ë„ˆ ë°”ë¡œ ì•„ë˜ì— ì˜¤ë„ë¡ ë§ˆì§„ ì¶”ê°€ */
        }

        /* --- ë¯¸ë””ì–´ ì¿¼ë¦¬: ì‘ì€ í™”ë©´ (ëª¨ë°”ì¼)ì— ëŒ€í•œ ìµœì í™” --- */
        @media (max-width: 600px) {
            .container {
                padding: 1.2em 0.8em; /* ëª¨ë°”ì¼ íŒ¨ë”© ë” ì¤„ì„ */
                width: 95%;
                margin-top: 0; /* ì¤‘ì•™ ì •ë ¬ì„ ìœ„í•´ ë§ˆì§„ ì œê±° */
                margin-bottom: 0; /* ì¤‘ì•™ ì •ë ¬ì„ ìœ„í•´ ë§ˆì§„ ì œê±° */
            }

            .title {
                font-size: 1.7em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
                margin-bottom: 0.8em; /* ëª¨ë°”ì¼ ë§ˆì§„ ì¡°ì • */
            }
            .title .emoji {
                font-size: 0.9em; /* ëª¨ë°”ì¼ ì´ëª¨ì§€ í¬ê¸° ì¡°ì • */
                margin: 0 0.2em;
            }

            .help-button {
                top: 8px; /* ëª¨ë°”ì¼ ìœ„ì¹˜ ì¡°ì • */
                left: 8px; /* ëª¨ë°”ì¼ ìœ„ì¹˜ ì¡°ì • */
                width: 28px; /* ëª¨ë°”ì¼ í¬ê¸° ì¡°ì • */
                height: 28px; /* ëª¨ë°”ì¼ í¬ê¸° ì¡°ì • */
                font-size: 0.9em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
            }

            .slot-machine {
                height: 70px; /* ëª¨ë°”ì¼ ë†’ì´ ì¡°ì • */
                border-width: 3px;
                margin-bottom: 1em; /* ëª¨ë°”ì¼ ë§ˆì§„ ì¡°ì • */
            }

            .slot-item {
                font-size: 1.1em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
                height: 70px; /* ëª¨ë°”ì¼ ë†’ì´ ì¡°ì • */
                line-height: 70px; /* ëª¨ë°”ì¼ ë†’ì´ ì¡°ì • */
            }

            .result-text {
                font-size: 1.1em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
                margin-top: 1em; /* ëª¨ë°”ì¼ ë§ˆì§„ ì¡°ì • */
            }

            .btn {
                padding: 0.6em 0.8em; /* ëª¨ë°”ì¼ íŒ¨ë”© ì¡°ì • */
                font-size: 0.85em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
                flex-grow: 1;
            }

            .button-container {
                gap: 0.4em; /* ëª¨ë°”ì¼ ê°„ê²© ì¡°ì • */
                margin-top: 1em; /* ëª¨ë°”ì¼ ë§ˆì§„ ì¡°ì • */
            }

            .modal {
                padding: 0.8em; /* ëª¨ë°”ì¼ íŒ¨ë”© ì¡°ì • */
            }

            .modal-content {
                padding: 1.2em; /* ëª¨ë°”ì¼ íŒ¨ë”© ì¡°ì • */
                width: 90%;
            }

            .close-button {
                font-size: 1.5em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
                top: 0.4em; /* ëª¨ë°”ì¼ ìœ„ì¹˜ ì¡°ì • */
                right: 0.6em; /* ëª¨ë°”ì¼ ìœ„ì¹˜ ì¡°ì • */
            }

            #restaurantInput {
                padding: 0.5em; /* ëª¨ë°”ì¼ íŒ¨ë”© ì¡°ì • */
                margin-bottom: 0.8em; /* ëª¨ë°”ì¼ ë§ˆì§„ ì¡°ì • */
                height: 4.5em; /* ëª¨ë°”ì¼ ë†’ì´ ì¡°ì • */
            }

            #restaurantListEdit {
                max-height: 35vh; /* ëª¨ë°”ì¼ ë†’ì´ ì¡°ì • */
            }

            #restaurantListEdit li {
                margin-bottom: 0.6em; /* ëª¨ë°”ì¼ ë§ˆì§„ ì¡°ì • */
                padding: 0.6em 0.8em; /* ëª¨ë°”ì¼ íŒ¨ë”© ì¡°ì • */
            }

            #restaurantListEdit li span {
                margin-right: 0.4em; /* ëª¨ë°”ì¼ ê°„ê²© ì¡°ì • */
            }

            #restaurantListEdit li .edit-btn,
            #restaurantListEdit li .delete-btn {
                font-size: 0.75em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
                padding: 0.3em 0.6em; /* ëª¨ë°”ì¼ íŒ¨ë”© ì¡°ì • */
            }

            #restaurantListEdit li .edit-input {
                width: calc(100% - 90px); /* ëª¨ë°”ì¼ ë²„íŠ¼ ë„ˆë¹„ ê³ ë ¤ */
                padding: 0.3em; /* ëª¨ë°”ì¼ íŒ¨ë”© ì¡°ì • */
            }
            .help-modal-content h2 {
                font-size: 1.4em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
            }

            .help-modal-content p {
                font-size: 0.95em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
            }

            .footer {
                margin-top: 15px; /* ëª¨ë°”ì¼ì—ì„œë„ ë£°ë › ì»¨í…Œì´ë„ˆ ë°”ë¡œ ì•„ë˜ì— ì˜¤ë„ë¡ ë§ˆì§„ ì¡°ì • */
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <button class="help-button" id="helpButton">?</button>
        <h1 class="title">
            <span class="emoji">âœˆï¸</span>
            ì˜¤ëŠ˜ì˜ ì ì‹¬
            <span class="emoji">âœˆï¸</span>
        </h1>

        <div class="slot-machine">
            <div class="slot-content-wrapper"></div>
        </div>

        <p class="result-text"></p>

        <div class="button-container">
            <button id="spinButton" class="btn">ëŒë¦¬ê¸°</button>
            <button id="addButton" class="btn">ì¶”ê°€í•˜ê¸°</button>
            <button id="editButton" class="btn">ëª©ë¡í¸ì§‘</button>
        </div>
    </div>
    
    <footer class="footer">
        <p>&copy; 2025 ì¸ì‚¬ì „ëµíŒ€ ì¸í„´ í•œì„¸ì§„</p>
    </footer>

    <div id="addModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>ì‹ë‹¹ ì¶”ê°€í•˜ê¸°</h2>
            <textarea id="restaurantInput" placeholder="ì‹ë‹¹ ì´ë¦„ì„ ì½¤ë§ˆ(,) ë˜ëŠ” ì¤„ ë„ì›€ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ ì…ë ¥í•˜ì„¸ìš”!"></textarea>
            <button id="addRestaurantToList" class="btn">ì¶”ê°€</button>
        </div>
    </div>

    <div id="editModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>ì‹ë‹¹ ëª©ë¡ í¸ì§‘</h2>
            <ul id="restaurantListEdit"></ul>
        </div>
    </div>

    <div id="helpModal" class="modal">
        <div class="modal-content help-modal-content">
            <span class="close-button">&times;</span>
            <h2>ğŸ½ï¸ì˜¤ëŠ˜ì˜ ì ì‹¬ ë£°ë ›ğŸ½ï¸</h2>
            <p><span class="emoji">ğŸ¤”</span>ë­˜ ë¨¹ì„ì§€ ê³ ë¯¼ë  ë•Œ, 'ëŒë¦¬ê¸°' ë²„íŠ¼ì„ ëˆŒëŸ¬ ì ì‹¬ ì‹ë‹¹ì„ ì •í•´ë³´ì„¸ìš”!</p>
            <p><span class="emoji">â•</span>ìƒˆë¡œìš´ ì‹ë‹¹ì„ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤ë©´, 'ì¶”ê°€í•˜ê¸°' ë²„íŠ¼ì„ ëˆŒëŸ¬ ëª©ë¡ì— ì¶”ê°€í•  ìˆ˜ ìˆì–´ìš”!</p>
            <p><span class="emoji">âœï¸</span>ê¸°ì¡´ ì‹ë‹¹ ëª©ë¡ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ì‚­ì œí•˜ê³  ì‹¶ë‹¤ë©´, 'ëª©ë¡ í¸ì§‘' ë²„íŠ¼ì„ í™œìš©í•˜ì„¸ìš”!</p>
            <p><span class="emoji">âœ¨</span>ê¸°ì¡´ ì‹ë‹¹ ëª©ë¡ì€ ë§ˆê³¡ ë‚´ í˜ì´ì½” ì‹ê¶Œ ì‚¬ìš© ê°€ëŠ¥ ì‹ë‹¹ì´ë©°, ëª¨ë“  ì‹ë‹¹ì˜ ë‹¹ì²¨ í™•ë¥ ì€ ë™ì¼í•©ë‹ˆë‹¤!</p>
            <p><span class="emoji">ğŸ”„</span>ì•± ì—…ë°ì´íŠ¸ ë‚´ìš©ì„ ë°˜ì˜í•˜ê³  ì‹¶ë‹¤ë©´, í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ê±°ë‚˜ ì¿ í‚¤/ì‚¬ì´íŠ¸ ë°ì´í„°ë¥¼ ì‚­ì œí•´ë³´ì„¸ìš”!</p>
            <p><span class="emoji">â—</span>ë‹¨, ì¿ í‚¤/ì‚¬ì´íŠ¸ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ë©´ ì €ì¥ëœ ì‚¬ìš©ì ì„¤ì •ì´ ì´ˆê¸°í™”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤!</p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const slotMachine = document.querySelector('.slot-machine');
            const slotContentWrapper = document.querySelector('.slot-content-wrapper');
            const resultText = document.querySelector('.result-text');
            const spinButton = document.getElementById('spinButton');
            const addButton = document.getElementById('addButton');
            const editButton = document.getElementById('editButton');
            const helpButton = document.getElementById('helpButton');

            const addModal = document.getElementById('addModal');
            const editModal = document.getElementById('editModal');
            const helpModal = document.getElementById('helpModal');
            const closeButtons = document.querySelectorAll('.close-button');
            const restaurantInput = document.getElementById('restaurantInput');
            const addRestaurantToListButton = document.getElementById('addRestaurantToList');
            const restaurantListEdit = document.getElementById('restaurantListEdit');

            let restaurants = [];
            let itemHeight = 0;
            let isSpinning = false;

            const defaultRestaurants = [
                'ìƒëª¨ë‹', 'ì„¼ëª¬í…', 'ì œì´ê·¸ë¨', 'ì´ˆì• ì‚¼ê³„íƒ•', 'í•˜ìš°ìŠ¬ë¦¬', 'í—¤ë¦¬ìŠ¤í—¤ì´ìŠ¤', 'ì—¬ê°€ë°˜ìƒ', 
                'ìŠ¤íƒ€ë²…ìŠ¤', 'ë² ì–´ìŠ¤íƒ€ì½”', 'íŒŒë¦¬ë°”ê²Œëœ¨', 'ì½”ì½”ì˜ ì‹íƒ', 'ì˜¤êµ­ë°¥', 'ë³´ì˜ë§Œë‘', 'í•œì†Œì¿°', 
                'ì˜¤ì§€ì˜¤ì»¤í”¼', 'ì†Œí’ê°€ëŠ”ë‚ ', 'ë‚˜ì´ìŠ¤ì¹´í˜ì¸í´ëŸ½', 'ì €ìŠ¤íŠ¸ìƒëŸ¬ë“œ', 'ì˜¬ë¼í¬ì¼€', 'ì°Œë¯¸ì˜¤', 
                'ì»¤í”¼ì‚¬í”¼ì—”ìŠ¤', 'ì›”ìˆ˜ê¸ˆ', 'ê½ˆë¦¬ì¹¼êµ­ìˆ˜', 'ë³¸ë„ì‹œë½', 'ê³„ë‹¨ë¼ë©˜', 'ì‹ ì˜í•œêµ­ìˆ˜', 'í›…íŠ¸í¬ì¼€', 
                'ìœ¡ì±„ë¯¸', 'ì˜ë¯¸ë‹¹ ë‹­ê°ˆë¹„', 'ì—„ë§ˆì†ë·”í˜', 'ëˆíƒœë°±', 'ë§ˆê³¡íšŒê´€', 'í ë² ì´ê¸€', 'ì•¤ë´ì»¤í”¼', 
                'ëŒ€ê°€ì›', 'ëª…ë™ì¹¼êµ­ìˆ˜', 'ì¤‘ì‹ë‹¹ ì²­ê°€', 'í™”ì›”', 'í™ì½©ë°˜ì ', 'ì¹´í˜ë””ì–¼', 'ì´ìì¹´ì•¼ í•˜ë£¨', 
                'ë§ˆê³¡ë™ì†Œë‹´ê¹€ë°¥', 'ê³ ë¦´ë¼ì‰í”„', 'SO GON', 'ë¡œìŠ¤í„°ë¦¬ë½ì˜¨', 'ë¯¼ì˜í™œì–´ê³µì¥', 'ì¡°ì„ ë¶€ëšœë§‰', 
                'ìš¸ë™ë„¤ëšœë¶€ì§‘', 'ì–´ë‹¬ìŠ¤ì‹œ', 'ë¶€ëŒ€ì˜¥', 'ìˆœëŒ€ì‹¤ë¡', 'ìŠ¤íƒ€ë²…ìŠ¤', 'ì˜¤ëª¨ì´', 'ì„¤ë°˜', 'ì‚¬ìœ„ì‹ë‹¹', 
                'ì§„ë§ˆë£¨', 'ì§¬ë½•ì§€ì¡´', 'ë²„ê±°í‚¹', 'í—¤ë¹„ìŠ¤í…Œì´í¬', 'ë¯¸ìˆ¯ë­', 'ìƒëŸ¬ë””', 'ì´ˆì´ë‹¤ì´ë‹', 
                'ë€ì½°ì´í‘ëˆ„ë“¤', 'ì‹œë„ë‹ˆì•„', 'í›„ë¼í† ì‹ë‹¹', 'ë‹¹ì‚°í¬ì°¨ ì ì‹¬ë·”í˜', 'ì½œíŠ¸í´ëŸ½', 'ë³¸ì£½&ë¹„ë¹”ë°¥cafe', 
                'ì»´í¬ì¦ˆì»¤í”¼', 'ìƒëŸ¬ë””', 'ì¢…ë¡œê³„ë¦¼ë‹­ë„ë¦¬íƒ•ì›ì¡°', 'ë°•ê°€ë¶€ëŒ€', 'ì „ì£¼í˜„ëŒ€ì˜¥'
            ];

            function loadRestaurants() {
                const storedRestaurants = localStorage.getItem('restaurants');
                if (storedRestaurants) {
                    restaurants = JSON.parse(storedRestaurants);
                } else {
                    restaurants = [...defaultRestaurants];
                    saveRestaurants();
                }
                renderSlotItems();
            }

            function saveRestaurants() {
                localStorage.setItem('restaurants', JSON.stringify(restaurants));
            }

            function renderSlotItems() {
                slotContentWrapper.innerHTML = '';

                if (restaurants.length === 0) {
                    const defaultItem = document.createElement('div');
                    defaultItem.classList.add('slot-item');
                    defaultItem.textContent = 'ì‹ë‹¹ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”!';
                    slotContentWrapper.appendChild(defaultItem);
                    gsap.set(slotContentWrapper, { y: 0 });
                    itemHeight = defaultItem.offsetHeight;
                    return;
                }

                const repeatCount = 10;
                for (let i = 0; i < repeatCount; i++) {
                    restaurants.forEach(restaurant => {
                        const div = document.createElement('div');
                        div.classList.add('slot-item');
                        div.textContent = restaurant;
                        slotContentWrapper.appendChild(div);
                    });
                }

                itemHeight = slotContentWrapper.querySelector('.slot-item').offsetHeight;
                gsap.set(slotContentWrapper, { y: 0 });
            }

            spinButton.addEventListener('click', () => {
                if (restaurants.length === 0) {
                    alert('ì‹ë‹¹ ëª©ë¡ì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤. ì‹ë‹¹ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”!');
                    return;
                }
                if (isSpinning) {
                    return;
                }

                isSpinning = true;
                spinButton.disabled = true;
                resultText.innerHTML = '';

                gsap.killTweensOf(slotContentWrapper);
                gsap.set(slotContentWrapper, { y: 0 });

                const totalOriginalItems = restaurants.length;
                const selectedOriginalIndex = Math.floor(Math.random() * totalOriginalItems);

                const revolutions = 5;
                const finalTargetIndex = (revolutions * totalOriginalItems) + selectedOriginalIndex;

                const targetY = -finalTargetIndex * itemHeight;

                gsap.to(slotContentWrapper, {
                    y: targetY,
                    duration: 5,
                    ease: "power4.out",
                    overwrite: "auto",
                    onComplete: () => {
                        const currentY = gsap.getProperty(slotContentWrapper, "y");
                        const stoppedItemIndex = Math.round(Math.abs(currentY) / itemHeight);
                        const actualSelectedRestaurantIndex = stoppedItemIndex % totalOriginalItems;
                        const actualSelectedRestaurant = restaurants[actualSelectedRestaurantIndex];

                        resultText.innerHTML = `ì˜¤ëŠ˜ì€ <span class="result-restaurant-name">${actualSelectedRestaurant}</span>ì—ì„œ ë¨¹ì–´ìš”!`;
                        spinButton.disabled = false;
                        isSpinning = false;

                        gsap.set(slotContentWrapper, { y: -(revolutions * totalOriginalItems + selectedOriginalIndex) * itemHeight });
                    }
                });
            });

            addRestaurantToListButton.addEventListener('click', () => {
                const inputText = restaurantInput.value.trim();
                if (inputText) {
                    const newRestaurants = inputText.split(/[\n,]+/).map(item => item.trim()).filter(item => item.length > 0);
                    let addedCount = 0;

                    newRestaurants.forEach(newRestaurant => {
                        if (newRestaurant && !restaurants.includes(newRestaurant)) {
                            restaurants.push(newRestaurant);
                            addedCount++;
                        }
                    });

                    if (addedCount > 0) {
                        saveRestaurants();
                        renderSlotItems();
                        alert(`${addedCount}ê°œì˜ ì‹ë‹¹ì´ ëª©ë¡ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!`);
                        addModal.style.display = 'none';
                    } else if (newRestaurants.length > 0) {
                        alert('ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì‹ë‹¹ì´ê±°ë‚˜ ìœ íš¨í•˜ì§€ ì•Šì€ ì…ë ¥ì…ë‹ˆë‹¤.');
                    } else {
                        alert('ì‹ë‹¹ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    }
                } else {
                    alert('ì‹ë‹¹ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                }
            });

            addButton.addEventListener('click', () => {
                addModal.style.display = 'flex';
                restaurantInput.value = '';
                restaurantInput.focus();
            });

            editButton.addEventListener('click', () => {
                renderEditList();
                editModal.style.display = 'flex';
            });

            helpButton.addEventListener('click', () => {
                helpModal.style.display = 'flex';
            });

            function renderEditList() {
                restaurantListEdit.innerHTML = '';
                if (restaurants.length === 0) {
                    restaurantListEdit.innerHTML = '<li>ë“±ë¡ëœ ì‹ë‹¹ì´ ì—†ìŠµë‹ˆë‹¤.</li>';
                    return;
                }
                restaurants.forEach((restaurant, index) => {
                    const listItem = document.createElement('li');
                    const span = document.createElement('span');
                    span.textContent = restaurant;
                    listItem.appendChild(span);

                    const buttonWrapper = document.createElement('div');
                    buttonWrapper.classList.add('button-wrapper');

                    const editButton = document.createElement('button');
                    editButton.classList.add('edit-btn');
                    editButton.textContent = 'ìˆ˜ì •';
                    editButton.dataset.index = index;
                    buttonWrapper.appendChild(editButton);

                    const deleteButton = document.createElement('button');
                    deleteButton.classList.add('delete-btn');
                    deleteButton.textContent = 'ì‚­ì œ';
                    deleteButton.dataset.index = index;
                    buttonWrapper.appendChild(deleteButton);

                    listItem.appendChild(buttonWrapper);
                    restaurantListEdit.appendChild(listItem);
                });

                document.querySelectorAll('.edit-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const indexToEdit = parseInt(e.target.dataset.index);
                        const listItem = e.target.closest('li');
                        const restaurantSpan = listItem.querySelector('span');
                        const originalName = restaurantSpan.textContent;

                        const inputField = document.createElement('input');
                        inputField.type = 'text';
                        inputField.classList.add('edit-input');
                        inputField.value = originalName;

                        listItem.replaceChild(inputField, restaurantSpan);
                        inputField.focus();

                        const saveChanges = () => {
                            const newName = inputField.value.trim();
                            if (newName && newName !== originalName) {
                                if (!restaurants.includes(newName)) {
                                    restaurants[indexToEdit] = newName;
                                    saveRestaurants();
                                    renderEditList();
                                    renderSlotItems();
                                } else {
                                    alert('ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì´ë¦„ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                                    const tempSpan = document.createElement('span');
                                    tempSpan.textContent = originalName;
                                    listItem.replaceChild(tempSpan, inputField);
                                }
                            } else {
                                const tempSpan = document.createElement('span');
                                tempSpan.textContent = originalName;
                                listItem.replaceChild(tempSpan, inputField);
                            }
                        };

                        inputField.addEventListener('keypress', (event) => {
                            if (event.key === 'Enter') {
                                saveChanges();
                            }
                        });

                        inputField.addEventListener('blur', () => {
                            saveChanges();
                        });
                    });
                });

                document.querySelectorAll('.delete-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const indexToDelete = parseInt(e.target.dataset.index);
                        const deletedRestaurant = restaurants[indexToDelete];
                        if (confirm(`${deletedRestaurant}ì„(ë¥¼) ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                            restaurants.splice(indexToDelete, 1);
                            saveRestaurants();
                            renderEditList();
                            renderSlotItems();
                        }
                    });
                });
            }

            closeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    addModal.style.display = 'none';
                    editModal.style.display = 'none';
                    helpModal.style.display = 'none';
                });
            });

            window.addEventListener('click', (event) => {
                if (event.target === addModal) {
                    addModal.style.display = 'none';
                }
                if (event.target === editModal) {
                    editModal.style.display = 'none';
                }
                if (event.target === helpModal) {
                    helpModal.style.display = 'none';
                }
            });

            loadRestaurants();
            window.addEventListener('load', () => {
                if (slotContentWrapper.querySelector('.slot-item')) {
                    itemHeight = slotContentWrapper.querySelector('.slot-item').offsetHeight;
                }
            });
        });
    </script>
</body>
</html>
