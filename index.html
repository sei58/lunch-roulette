<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ëŠ˜ì˜ ì ì‹¬</title>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ (PC í™”ë©´ì— ì í•©í•œ ê°„ê²©) */
        body {
            margin: 0;
            font-family: 'Gowun Dodum', sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center; /* ì¤‘ì•™ ì •ë ¬ë¡œ ë³€ê²½ */
            align-items: center; /* ê°€ìš´ë° ì •ë ¬ ìœ ì§€ */
            min-height: 100vh;
            background: linear-gradient(to bottom, #a8d8ff, #ffffff);
            color: #333;
            overflow-x: hidden;
        }

        .container {
            text-align: center;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 25px 40px; /* PC íŒ¨ë”© ì¡°ì • */
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 1;
            width: 90%;
            max-width: 500px; /* ì»¨í…Œì´ë„ˆ ë„ˆë¹„ ìœ ì§€ */
            box-sizing: border-box;
            flex-grow: 0;
            display: flex;
            flex-direction: column; /* ì„¸ë¡œ ì •ë ¬ë¡œ ë³€ê²½ */
            justify-content: flex-start;
            align-items: center; /* ë‚´ë¶€ ìš”ì†Œë“¤ì„ ì¤‘ì•™ ì •ë ¬ */
            margin-top: 0;
            margin-bottom: 0;
        }

        .title {
            font-size: 2.5em;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px; /* PC ë§ˆì§„ ì¡°ì • */
            display: flex;
            align-items: center;
            justify-content: center;
            white-space: nowrap;
        }

        .title .emoji {
            font-size: 1.2em;
            vertical-align: middle;
            margin: 0 10px;
        }

        /* ì¹´í…Œê³ ë¦¬ ì„ íƒê³¼ ë£°ë › ë””ìŠ¤í”Œë ˆì´ë¥¼ í†µí•©í•˜ëŠ” ìƒˆë¡œìš´ ì„¹ì…˜ */
        .combined-slot-display {
            width: 100%;
            height: 100px; /* ë£°ë › ì•„ì´í…œ ë†’ì´ì™€ ë™ì¼í•˜ê²Œ ì„¤ì • */
            border: 5px solid rgb(190, 214, 0);
            border-radius: 15px;
            background-color: #fff;
            margin: 0 auto 20px;
            display: flex; /* ë‚´ë¶€ ìš”ì†Œë“¤ì„ ê°€ë¡œë¡œ ì •ë ¬ */
            align-items: center; /* ë‚´ë¶€ ìš”ì†Œë“¤ì„ ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
            overflow: hidden; /* ë£°ë › ìŠ¤í¬ë¡¤ì„ ìœ„í•´ í•„ìš” */
            position: relative; /* ë‚´ë¶€ absolute ìš”ì†Œì˜ ê¸°ì¤€ì  */
            box-sizing: border-box; /* íŒ¨ë”©, ë³´ë” í¬í•¨ ë„ˆë¹„ ê³„ì‚° */
        }

        /* ì¹´í…Œê³ ë¦¬ ì„ íƒ ë“œë¡­ë‹¤ìš´ ì˜ì—­ */
        .category-selector-area {
            flex-shrink: 0; /* ê³µê°„ì´ ë¶€ì¡±í•´ë„ ì¤„ì–´ë“¤ì§€ ì•Šë„ë¡ ì„¤ì • */
            width: 120px; /* ì¹´í…Œê³ ë¦¬ ë“œë¡­ë‹¤ìš´ ê³ ì • ë„ˆë¹„ */
            height: 100%; /* ë¶€ëª¨ ë†’ì´ì— ë§ì¶¤ */
            display: flex;
            align-items: center;
            justify-content: center;
            border-right: 2px solid #eee; /* êµ¬ë¶„ì„  */
            background-color: rgb(190, 214, 0); /* ë°°ê²½ì„ ëŒë¦¬ê¸° ë²„íŠ¼ ìƒ‰ìƒìœ¼ë¡œ ë³€ê²½ */
            box-sizing: border-box;
        }

        #categorySelect {
            padding: 8px 5px; /* ë‚´ë¶€ íŒ¨ë”© ì¡°ì • */
            padding-left: 10px; /* ì™¼ìª½ ì—¬ë°±ì„ 10pxë¡œ ì¤„ì—¬ í…ìŠ¤íŠ¸ë¥¼ ì™¼ìª½ìœ¼ë¡œ ì´ë™ */
            border: none; /* ë¶€ëª¨ ì˜ì—­ì— ë³´ë”ê°€ ìˆìœ¼ë¯€ë¡œ ì œê±° */
            border-radius: 8px;
            font-size: 1.3em; /* í…ìŠ¤íŠ¸ í¬ê¸° 1.3ë°°ë¡œ ë³€ê²½ */
            font-weight: bold;
            font-family: 'Gowun Dodum', sans-serif;
            background-color: transparent; /* ë°°ê²½ íˆ¬ëª…í•˜ê²Œ */
            color: #fff; /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ í°ìƒ‰ìœ¼ë¡œ ë³€ê²½ */
            appearance: none; /* ê¸°ë³¸ ë“œë¡­ë‹¤ìš´ í™”ì‚´í‘œ ì œê±° */
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20256%20256%22%3E%3Cpath%20fill%3D%22%23fff%22%20d%3D%22M208.5%2096.5L128%20177L47.5%2096.5z%22%2F%3E%3C%2Fsvg%3E'); /* ì»¤ìŠ¤í…€ í™”ì‚´í‘œ (í°ìƒ‰ìœ¼ë¡œ ë³€ê²½) */
            background-repeat: no-repeat;
            background-position: right 5px center; /* í™”ì‚´í‘œ ìœ„ì¹˜ ì¡°ì • */
            background-size: 0.8em; /* í™”ì‚´í‘œ í¬ê¸° ì¡°ì • */
            cursor: pointer;
            width: calc(100% - 20px); /* íŒ¨ë”© ê³ ë ¤ (10px + 5px + í™”ì‚´í‘œ ê³µê°„) */
            box-sizing: border-box;
        }

        #categorySelect:focus {
            outline: none;
            /* border-color: rgb(160, 180, 0); */ /* ë¶€ëª¨ ë³´ë” ì‚¬ìš© */
        }

        /* ë“œë¡­ë‹¤ìš´ ì˜µì…˜ë“¤ì˜ ë°°ê²½ ë° í…ìŠ¤íŠ¸ ìƒ‰ìƒ ë³€ê²½ */
        #categorySelect option, #addCategorySelect option, #editCategorySelect option {
            background-color: rgb(190, 214, 0); /* ë°°ê²½ìƒ‰ ë³€ê²½ */
            color: #fff; /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ í°ìƒ‰ */
        }

        /* ë£°ë › ì•„ì´í…œì´ ì‹¤ì œë¡œ ì›€ì§ì´ëŠ” ë””ìŠ¤í”Œë ˆì´ ì˜ì—­ */
        .roulette-display-area {
            flex-grow: 1; /* ë‚¨ì€ ê³µê°„ì„ ëª¨ë‘ ì°¨ì§€ */
            height: 100%;
            position: relative; /* slot-content-wrapperì˜ ê¸°ì¤€ì  */
            overflow: hidden; /* ë£°ë › ìŠ¤í¬ë¡¤ì„ ìœ„í•´ í•„ìš” */
        }

        .slot-content-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .slot-item {
            font-size: 1.4em;
            font-weight: bold;
            color: #555;
            height: 100px; /* combined-slot-displayì˜ ë†’ì´ì™€ ë™ì¼ */
            line-height: 100px; /* í…ìŠ¤íŠ¸ ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
            width: 100%;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .result-text {
            font-size: 1.5em;
            font-weight: bold;
            color: #666;
            margin-top: 20px; /* PC ë§ˆì§„ ì¡°ì • */
            min-height: 30px;
        }

        .result-restaurant-name {
            color: rgb(190, 214, 0);
            font-weight: bold;
            display: inline-block;
        }

        .button-container {
            margin-top: 20px; /* PC ë§ˆì§„ ì¡°ì • */
            display: flex;
            justify-content: center;
            gap: 15px; /* PC ê°„ê²© ì¡°ì • */
            flex-wrap: nowrap;
        }

        .btn {
            background-color: rgb(190, 214, 0);
            color: #fff;
            border: none;
            padding: 12px 20px; /* PC íŒ¨ë”© ì¡°ì • */
            border-radius: 10px;
            font-size: 1.1em; /* í°íŠ¸ ì‚¬ì´ì¦ˆ ì‚´ì§ ì¤„ì„ */
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
        }

        .btn:hover {
            background-color: rgb(160, 180, 0);
        }

        .btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }

        /* Help Button Styles */
        .help-button {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 35px;
            height: 35px;
            background-color: rgba(180, 180, 180, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease;
            z-index: 2;
        }

        .help-button:hover {
            background-color: rgba(150, 150, 150, 0.9);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 10;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
        }

        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 25px; /* PC íŒ¨ë”© ì¡°ì • */
            border: 1px solid #888;
            border-radius: 15px;
            width: 80%;
            max-width: 500px;
            text-align: center;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            box-sizing: border-box;
        }

        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 20px;
        }

        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        #restaurantInput {
            width: calc(100% - 20px);
            padding: 10px;
            margin-bottom: 15px; /* ë§ˆì§„ ì¡°ì • */
            border: 2px solid rgb(190, 214, 0);
            border-radius: 8px;
            font-size: 1em;
            height: 80px;
            resize: vertical;
            box-sizing: border-box;
        }

        #addRestaurantToList {
            margin-top: 5px; /* ë§ˆì§„ ì¡°ì • */
        }

        #restaurantListEdit {
            list-style-type: none;
            padding: 0;
            max-height: 300px;
            overflow-y: auto;
            text-align: left;
        }

        #restaurantListEdit li {
            background-color: #f0f0f0;
            margin-bottom: 8px; /* ë§ˆì§„ ì¡°ì • */
            padding: 8px 12px; /* íŒ¨ë”© ì¡°ì • */
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.1em;
            flex-wrap: nowrap;
        }

        #restaurantListEdit li span {
            flex-grow: 1;
            margin-right: 10px;
            word-break: break-all;
            overflow-wrap: break-word;
        }

        /* ìˆ˜ì • ë° ì‚­ì œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        #restaurantListEdit li .button-wrapper {
            display: flex;
            gap: 5px; /* ë²„íŠ¼ ê°„ ê°„ê²© */
        }

        #restaurantListEdit li .edit-btn {
            background-color: rgb(0, 159, 218); /* ìˆ˜ì • ë²„íŠ¼ ìƒ‰ìƒ */
            color: #fff;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9em;
            cursor: pointer;
            transition: background-color 0.3s ease;
            white-space: nowrap; /* ì¤„ë°”ê¿ˆ ë°©ì§€ */
        }

        #restaurantListEdit li .edit-btn:hover {
            background-color: rgb(0, 130, 180);
        }

        #restaurantListEdit li .delete-btn {
            background-color: rgb(100, 31, 69); /* ì‚­ì œ ë²„íŠ¼ ìƒ‰ìƒ */
            color: #fff;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9em;
            cursor: pointer;
            transition: background-color 0.3s ease;
            white-space: nowrap; /* ì¤„ë°”ê¿ˆ ë°©ì§€ */
        }

        #restaurantListEdit li .delete-btn:hover {
            background-color: rgb(80, 25, 55);
        }

        #restaurantListEdit li .edit-input {
            flex-grow: 1;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 1.1em;
            box-sizing: border-box;
        }


        .help-modal-content {
            padding: 20px; /* íŒ¨ë”© ì¡°ì • */
            text-align: left;
        }

        .help-modal-content h2 {
            font-size: 1.8em;
            color: #333;
            margin-bottom: 15px; /* ë§ˆì§„ ì¡°ì • */
            text-align: center;
        }

        .help-modal-content p {
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 10px; /* ë§ˆì§„ ì¡°ì • */
            color: #555;
        }

        .help-modal-content p .emoji {
            margin-right: 8px;
            font-size: 1.2em;
        }

        /* Footer Styles */
        .footer {
            width: 100%;
            padding: 15px 0;
            text-align: center;
            color: #777;
            font-size: 0.9em;
            flex-shrink: 0;
            margin-top: 20px; /* ë£°ë › ì»¨í…Œì´ë„ˆ ë°”ë¡œ ì•„ë˜ì— ì˜¤ë„ë¡ ë§ˆì§„ ì¶”ê°€ */
        }

        /* Map Button Styles */
        #mapButton {
            background-color: #009fda; /* ë„¤ì´ë²„ ì§€ë„ ìƒ‰ìƒ */
            margin-left: 0; /* ê¸°ì¡´ spinButtonê³¼ì˜ ê°„ê²© ìœ ì§€ */
        }

        #mapButton:hover {
            background-color: #0289bb;
        }


        /* --- ë¯¸ë””ì–´ ì¿¼ë¦¬: ì‘ì€ í™”ë©´ (ëª¨ë°”ì¼)ì— ëŒ€í•œ ìµœì í™” --- */
        @media (max-width: 600px) {
            .container {
                padding: 1.2em 0.8em; /* ëª¨ë°”ì¼ íŒ¨ë”© ë” ì¤„ì„ */
                width: 95%;
                margin-top: 0;
                margin-bottom: 0;
                gap: 15px; /* ëª¨ë°”ì¼ ê°„ê²© ì¡°ì • */
            }

            .combined-slot-display {
                height: 50px; /* ëª¨ë°”ì¼ ë†’ì´ ì¡°ì • */
                border-width: 3px;
                margin-bottom: 1em; /* ëª¨ë°”ì¼ ë§ˆì§„ ì¡°ì • */
            }

            .category-selector-area {
                width: 80px; /* ëª¨ë°”ì¼ ì¹´í…Œê³ ë¦¬ ë„ˆë¹„ ì¡°ì • */
            }

            #categorySelect {
                font-size: 0.9em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
                padding: 6px 3px; /* ëª¨ë°”ì¼ íŒ¨ë”© ì¡°ì • */
                background-position: right 3px center; /* í™”ì‚´í‘œ ìœ„ì¹˜ ì¡°ì • */
                background-size: 0.7em; /* í™”ì‚´í‘œ í¬ê¸° ì¡°ì • */
            }

            .roulette-display-area {
                /* ëª¨ë°”ì¼ì—ì„œëŠ” íŠ¹ë³„íˆ ë³€ê²½í•  í•„ìš” ì—†ìŒ */
            }

            .slot-item {
                font-size: 0.9em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
                height: 50px; /* combined-slot-displayì˜ ë†’ì´ì™€ ë™ì¼ */
                line-height: 50px; /* í…ìŠ¤íŠ¸ ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
            }

            .title {
                font-size: 1.7em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
                margin-bottom: 0.8em; /* ëª¨ë°”ì¼ ë§ˆì§„ ì¡°ì • */
            }
            .title .emoji {
                font-size: 0.9em; /* ëª¨ë°”ì¼ ì´ëª¨ì§€ í¬ê¸° ì¡°ì • */
                margin: 0 0.2em;
            }

            .help-button {
                top: 8px; /* ëª¨ë°”ì¼ ìœ„ì¹˜ ì¡°ì • */
                left: 8px; /* ëª¨ë°”ì¼ ìœ„ì¹˜ ì¡°ì • */
                width: 28px; /* ëª¨ë°”ì¼ í¬ê¸° ì¡°ì • */
                height: 28px; /* ëª¨ë°”ì¼ í¬ê¸° ì¡°ì • */
                font-size: 0.9em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
            }

            .result-text {
                font-size: 1.1em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
                margin-top: 1em; /* ëª¨ë°”ì¼ ë§ˆì§„ ì¡°ì • */
            }

            .btn {
                padding: 0.6em 0.8em; /* ëª¨ë°”ì¼ íŒ¨ë”© ì¡°ì • */
                font-size: 0.85em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
                flex-grow: 1;
            }

            .button-container {
                gap: 0.4em; /* ëª¨ë°”ì¼ ê°„ê²© ì¡°ì • */
                margin-top: 1em; /* ëª¨ë°”ì¼ ë§ˆì§„ ì¡°ì • */
            }

            .modal {
                padding: 0.8em; /* ëª¨ë°”ì¼ íŒ¨ë”© ì¡°ì • */
            }

            .modal-content {
                padding: 1.2em; /* ëª¨ë°”ì¼ íŒ¨ë”© ì¡°ì • */
                width: 90%;
            }

            .close-button {
                font-size: 1.5em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
                top: 0.4em; /* ëª¨ë°”ì¼ ìœ„ì¹˜ ì¡°ì • */
                right: 0.6em; /* ëª¨ë°”ì¼ ìœ„ì¹˜ ì¡°ì • */
            }

            #restaurantInput {
                padding: 0.5em; /* ëª¨ë°”ì¼ íŒ¨ë”© ì¡°ì • */
                margin-bottom: 0.8em; /* ëª¨ë°”ì¼ ë§ˆì§„ ì¡°ì • */
                height: 4.5em; /* ëª¨ë°”ì¼ ë†’ì´ ì¡°ì • */
            }

            #restaurantListEdit {
                max-height: 35vh; /* ëª¨ë°”ì¼ ë†’ì´ ì¡°ì • */
            }

            #restaurantListEdit li {
                margin-bottom: 0.6em; /* ëª¨ë°”ì¼ ë§ˆì§„ ì¡°ì • */
                padding: 0.6em 0.8em; /* ëª¨ë°”ì¼ íŒ¨ë”© ì¡°ì • */
            }

            #restaurantListEdit li span {
                margin-right: 0.4em; /* ëª¨ë°”ì¼ ê°„ê²© ì¡°ì • */
            }

            #restaurantListEdit li .edit-btn, #restaurantListEdit li .delete-btn {
                font-size: 0.75em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
                padding: 0.3em 0.6em; /* ëª¨ë°”ì¼ íŒ¨ë”© ì¡°ì • */
            }

            #restaurantListEdit li .edit-input {
                width: calc(100% - 90px); /* ëª¨ë°”ì¼ ë²„íŠ¼ ë„ˆë¹„ ê³ ë ¤ */
                padding: 0.3em; /* ëª¨ë°”ì¼ íŒ¨ë”© ì¡°ì • */
            }

            .help-modal-content h2 {
                font-size: 1.4em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
            }

            .help-modal-content p {
                font-size: 0.95em; /* ëª¨ë°”ì¼ í°íŠ¸ í¬ê¸° ì¡°ì • */
            }

            .footer {
                margin-top: 15px; /* ëª¨ë°”ì¼ì—ì„œë„ ë£°ë › ì»¨í…Œì´ë„ˆ ë°”ë¡œ ì•„ë˜ì— ì˜¤ë„ë¡ ë§ˆì§„ ì¡°ì • */
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <button class="help-button" id="helpButton">?</button>
        <h1 class="title">
            <span class="emoji">âœˆï¸</span> ì˜¤ëŠ˜ì˜ ì ì‹¬ <span class="emoji">âœˆï¸</span>
        </h1>

        <!-- ì¹´í…Œê³ ë¦¬ ì„ íƒ ë“œë¡­ë‹¤ìš´ê³¼ ë£°ë › ë””ìŠ¤í”Œë ˆì´ë¥¼ í¬í•¨í•˜ëŠ” ë‹¨ì¼ ì°½ -->
        <div class="combined-slot-display">
            <div class="category-selector-area">
                <select id="categorySelect">
                    <!-- ì˜µì…˜ì€ JavaScriptì—ì„œ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤. -->
                </select>
            </div>
            <div class="roulette-display-area">
                <div class="slot-content-wrapper"></div>
            </div>
        </div>

        <p class="result-text"></p>
        <!-- ì£¼ì†Œ ë§í¬ í‘œì‹œ ì˜ì—­ ì‚­ì œ -->
        <div class="button-container">
            <button id="spinButton" class="btn">ëŒë¦¬ê¸°</button>
            <button id="mapButton" class="btn" style="display: none;">ì§€ë„ ë³´ê¸°</button>
            <button id="addButton" class="btn">ì¶”ê°€í•˜ê¸°</button>
            <button id="editButton" class="btn">ëª©ë¡í¸ì§‘</button>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2025 ì¸ì‚¬ì „ëµíŒ€ ì¸í„´ í•œì„¸ì§„</p>
    </footer>

    <!-- ì‹ë‹¹ ì¶”ê°€ ëª¨ë‹¬ -->
    <div id="addModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>ì‹ë‹¹ ì¶”ê°€í•˜ê¸°</h2>
            <textarea id="restaurantInput" placeholder="ì‹ë‹¹ ì´ë¦„ì„ ì½¤ë§ˆ(,) ë˜ëŠ” ì¤„ ë„ì›€ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ ì…ë ¥í•˜ì„¸ìš”!"></textarea>
            <button id="addRestaurantToList" class="btn">ì¶”ê°€</button>
        </div>
    </div>

    <!-- ì‹ë‹¹ ëª©ë¡ í¸ì§‘ ëª¨ë‹¬ -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>ì‹ë‹¹ ëª©ë¡ í¸ì§‘</h2>
            <ul id="restaurantListEdit"></ul>
        </div>
    </div>

    <!-- ë„ì›€ë§ ëª¨ë‹¬ -->
    <div id="helpModal" class="modal">
        <div class="modal-content help-modal-content">
            <span class="close-button">&times;</span>
            <h2>ì˜¤ëŠ˜ì˜ ì ì‹¬ ë£°ë ›ğŸ½ï¸</h2>
            <p><span class="emoji">ğŸ¤”</span>ì ì‹¬ì— ë­˜ ë¨¹ì„ì§€ ê³ ë¯¼ë  ë•Œ, ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•˜ê³  'ëŒë¦¬ê¸°' ë²„íŠ¼ì„ ëˆŒëŸ¬ ì‹ë‹¹ì„ ì •í•´ë³´ì„¸ìš”!</p>
            <p><span class="emoji">ğŸ—ºï¸</span>ë£°ë › ê²°ê³¼ê°€ ë‚˜ì˜¤ë©´ 'ì§€ë„ ë³´ê¸°' ë²„íŠ¼ì„ ëˆŒëŸ¬ ì‹ë‹¹ ìœ„ì¹˜ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”!</p>
            <p><span class="emoji">â•</span>ìƒˆë¡œìš´ ì‹ë‹¹ì„ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤ë©´ 'ì¶”ê°€í•˜ê¸°' ë²„íŠ¼ì„ ëˆŒëŸ¬ ëª©ë¡ì— ì¶”ê°€í•  ìˆ˜ ìˆì–´ìš”!</p>
            <p><span class="emoji">âœï¸</span>ê¸°ì¡´ ëª©ë¡ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ì‚­ì œí•˜ê³  ì‹¶ë‹¤ë©´ 'ëª©ë¡ í¸ì§‘' ë²„íŠ¼ì„ í™œìš©í•˜ì„¸ìš”!</p>
            <p><span class="emoji">âœ¨</span>ê¸°ì¡´ ëª©ë¡ì€ ë§ˆê³¡ ë‚´ í˜ì´ì½” ì‹ê¶Œì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì‹ë‹¹ì´ë©° ëª¨ë“  ê³³ì˜ ë‹¹ì²¨ í™•ë¥ ì€ ë™ì¼í•©ë‹ˆë‹¤!</p>
            <p><span class="emoji">ğŸ”„</span>ì•± ì—…ë°ì´íŠ¸ ë‚´ìš©ì„ ë°˜ì˜í•˜ê³  ì‹¶ë‹¤ë©´, í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨ í•˜ê±°ë‚˜ ì¿ í‚¤/ì‚¬ì´íŠ¸ ë°ì´í„°ë¥¼ ì‚­ì œí•´ë³´ì„¸ìš”!</p>
            <p><span class="emoji">â—</span>ë‹¨, ì¿ í‚¤/ì‚¬ì´íŠ¸ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ë©´ ì €ì¥ëœ ì‚¬ìš©ì ì„¤ì •ì´ ì´ˆê¸°í™”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤!</p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
            const slotMachine = document.querySelector('.combined-slot-display');
            const slotContentWrapper = document.querySelector('.slot-content-wrapper');
            const resultText = document.querySelector('.result-text');
            const spinButton = document.getElementById('spinButton');
            const addButton = document.getElementById('addButton');
            const editButton = document.getElementById('editButton');
            const helpButton = document.getElementById('helpButton');
            const mapButton = document.getElementById('mapButton'); // ì§€ë„ ë³´ê¸° ë²„íŠ¼
            const categorySelect = document.getElementById('categorySelect'); // ì¹´í…Œê³ ë¦¬ ì„ íƒ ë“œë¡­ë‹¤ìš´

            // ëª¨ë‹¬ ê´€ë ¨ ìš”ì†Œ
            const addModal = document.getElementById('addModal');
            const editModal = document.getElementById('editModal');
            const helpModal = document.getElementById('helpModal');
            const closeButtons = document.querySelectorAll('.close-button');
            const restaurantInput = document.getElementById('restaurantInput');
            const addRestaurantToListButton = document.getElementById('addRestaurantToList');
            const restaurantListEdit = document.getElementById('restaurantListEdit');

            // ì‹ë‹¹ ë°ì´í„° ì •ì˜ (ì¹´í…Œê³ ë¦¬ë³„) - ì´ë¦„, ì£¼ì†Œ, ì§ì ‘ ì—°ê²°í•  ì§€ë„ ë§í¬ í¬í•¨
            // mapLink í•„ë“œëŠ” ì„ íƒ ì‚¬í•­ì´ë©°, ìœ íš¨í•œ URLì´ ìˆì„ ê²½ìš° ì§ì ‘ í•´ë‹¹ ë§í¬ë¡œ ì´ë™í•©ë‹ˆë‹¤.
            // mapLinkê°€ ì—†ê±°ë‚˜ ìœ íš¨í•˜ì§€ ì•Šì€ ê²½ìš° address í•„ë“œë¡œ ë„¤ì´ë²„ ì§€ë„ ê²€ìƒ‰ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
            const defaultRestaurantsByCategory = {
                "ì „ì²´": [], // ì „ì²´ ì¹´í…Œê³ ë¦¬ëŠ” ëª¨ë“  ì‹ë‹¹ì„ í¬í•¨í•˜ë„ë¡ ì´ˆê¸°í™” (ì•„ë˜ì—ì„œ ì±„ì›Œì§)
                "í•œì‹": [
                    { name: "ì´ˆì• ì‚¼ê³„íƒ•", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì´ˆì• ì‚¼ê³„íƒ•", mapLink: "https://naver.me/GpCTzwlc" },
                    { name: "ì—¬ê°€ë°˜ìƒ", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì—¬ê°€ë°˜ìƒ", mapLink: "https://naver.me/xk1XQLA4" },
                    { name: "ì˜¤êµ­ë°¥", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì˜¤êµ­ë°¥", mapLink: "https://naver.me/x67y6M7s" },
                    { name: "í•œì†Œì¿°", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ í•œì†Œì¿°", mapLink: "https://naver.me/xY4LACRD" },
                    { name: "ì›”ìˆ˜ê¸ˆí†µë¼ì§€ê¹€ì¹˜ì°Œê°œ", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì›”ìˆ˜ê¸ˆí†µë¼ì§€ê¹€ì¹˜ì°Œê°œ", mapLink: "https://naver.me/5pws5EYL" },
                    { name: "ê½ˆë¦¬ì¹¼êµ­ìˆ˜", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ê½ˆë¦¬ì¹¼êµ­ìˆ˜", mapLink: "https://naver.me/513NweWA" },
                    { name: "ë³¸ë„ì‹œë½", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ë³¸ë„ì‹œë½", mapLink: "https://naver.me/FA2fvLXu" },
                    { name: "ì‹ ì˜í•œêµ­ìˆ˜", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì‹ ì˜í•œêµ­ìˆ˜", mapLink: "https://naver.me/FqWtUMi6" },
                    { name: "ë¬´í•œìœ¡ì±„ë¯¸", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ë¬´í•œìœ¡ì±„ë¯¸", mapLink: "https://naver.me/xprAkQoT" },
                    { name: "ì˜ë¯¸ë‹¹ ë‹­ê°ˆë¹„", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì˜ë¯¸ë‹¹ ë‹­ê°ˆë¹„", mapLink: "https://naver.me/FV7YjMyh" },
                    { name: "ì—„ë§ˆì†ë·”í˜", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì—„ë§ˆì†ë·”í˜", mapLink: "https://naver.me/54LbNtgZ" },
                    { name: "ë§ˆê³¡íšŒê´€", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ë§ˆê³¡íšŒê´€", mapLink: "https://naver.me/I55anJ2J" },
                    { name: "ëŒ€ê°€ì›", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ëŒ€ê°€ì›", mapLink: "https://naver.me/55rmiKFr" },
                    { name: "ëª…ë™ì¹¼êµ­ìˆ˜", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ëª…ë™ì¹¼êµ­ìˆ˜", mapLink: "https://naver.me/5T4AmXqX" },
                    { name: "ì¡°ì„ ë¶€ëšœë§‰", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì¡°ì„ ë¶€ëšœë§‰", mapLink: "https://naver.me/GzE9Dtnd" },
                    { name: "ëšœë¶€ì§‘", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ìš¸ë™ë„¤ëšœë¶€ì§‘", mapLink: "https://naver.me/F42MNyRU" },
                    { name: "ë¶€ëŒ€ì˜¥", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ë¶€ëŒ€ì˜¥", mapLink: "https://naver.me/FSw7n9GP" },
                    { name: "ìˆœëŒ€ì‹¤ë¡", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ìˆœëŒ€ì‹¤ë¡", mapLink: "https://naver.me/GoD7FW7R" },
                    { name: "ì„¤ë°˜", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì„¤ë°˜", mapLink: "https://naver.me/FsRsrZ2M" },
                    { name: "ë‹¹ì‚°í¬ì°¨ ì ì‹¬ë·”í˜", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ë‹¹ì‚°í¬ì°¨ ì ì‹¬ë·”í˜", mapLink: "https://naver.me/GRo4Numf" },
                    { name: "ë³¸ì£½&ë¹„ë¹”ë°¥cafe", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ë³¸ì£½&ë¹„ë¹”ë°¥cafe", mapLink: "https://naver.me/FvEj2Pvq" },
                    { name: "ì¢…ë¡œê³„ë¦¼ë‹­ë„ë¦¬íƒ•ì›ì¡°", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì¢…ë¡œê³„ë¦¼ë‹­ë„ë¦¬íƒ•ì›ì¡°", mapLink: "" },
                 /* { name: "ë°•ê°€ë¶€ëŒ€", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ë°•ê°€ë¶€ëŒ€", mapLink: "https://naver.me/xRhE8QMx" }, */
                    { name: "ì „ì£¼í˜„ëŒ€ì˜¥", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì „ì£¼í˜„ëŒ€ì˜¥", mapLink: "https://naver.me/5bVsIqBm" },
                    { name: "SO GON", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ SO GON", mapLink: "https://naver.me/Fk7g0wIk" },
                    { name: "ë¯¸ìˆ¯ë­", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ë¯¸ìˆ¯ë­", mapLink: "https://naver.me/xa5RTiRU" },             
                    { name: "ì‚¬ìœ„ì‹ë‹¹", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì‚¬ìœ„ì‹ë‹¹", mapLink: "https://naver.me/xTT6uHvZ" },
                    { name: "ì§„ë§ˆë£¨", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì§„ë§ˆë£¨", mapLink: "https://naver.me/FeXASwF5" }
                ],
                
                "ë¶„ì‹": [
                    { name: "ì½”ì½”ì˜ ì‹íƒ", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì½”ì½”ì˜ ì‹íƒ", mapLink: "https://naver.me/xExkRGwi" },
                    { name: "ë³´ì˜ë§Œë‘", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ë³´ì˜ë§Œë‘", mapLink: "https://naver.me/xeAPlmJQ" },
                    { name: "ì†Œí’ê°€ëŠ”ë‚ ", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì†Œí’ê°€ëŠ”ë‚ ", mapLink: "https://naver.me/GTnApFau" },
                    { name: "ë§ˆê³¡ë™ì†Œë‹´ê¹€ë°¥", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ë§ˆê³¡ë™ì†Œë‹´ê¹€ë°¥", mapLink: "https://naver.me/G0DNRTM1" }
                ],
                "ì¼ì‹": [
                    { name: "ì„¼ëª¬í…", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì„¼ëª¬í…", mapLink: "https://naver.me/5xjpM4pG" },
                    { name: "ì°Œë¯¸ì˜¤", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì°Œë¯¸ì˜¤", mapLink: "https://naver.me/G65twnCj" },
                    { name: "ê³„ë‹¨ë¼ë©˜", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ê³„ë‹¨ë¼ë©˜", mapLink: "https://naver.me/GyYb263I" },
                    { name: "í™”ì›”", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ í™”ì›”", mapLink: "https://naver.me/GmbWZAP9" },
                    { name: "ì´ìì¹´ì•¼ í•˜ë£¨", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì´ìì¹´ì•¼ í•˜ë£¨", mapLink: "https://naver.me/xExFMpOY" },
                    { name: "ë¯¼ì˜í™œì–´ê³µì¥", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ë¯¼ì˜í™œì–´ê³µì¥", mapLink: "https://naver.me/5Q37Ao9T" },
                /*  { name: "ì–´ë‹¬ìŠ¤ì‹œ", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì–´ë‹¬ìŠ¤ì‹œ", mapLink: "" },*/
                    { name: "ì˜¤ëª¨ì´", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì˜¤ëª¨ì´", mapLink: "https://naver.me/54LbRGcD" },
                    { name: "ì´ˆì´ë‹¤ì´ë‹", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì´ˆì´ë‹¤ì´ë‹", mapLink: "https://naver.me/GvcTOjkI" },
                    { name: "í›„ë¼í† ì‹ë‹¹", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ í›„ë¼í† ì‹ë‹¹", mapLink: "https://naver.me/xOxHBCzt" }
                ],
                "ì¤‘ì‹": [
                    { name: "ì¤‘ì‹ë‹¹ ì²­ê°€", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì¤‘ì‹ë‹¹ ì²­ê°€", mapLink: "https://naver.me/GQ15puiH" },
                    { name: "í™ì½©ë°˜ì ", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ í™ì½©ë°˜ì ", mapLink: "https://naver.me/FFGmhkCe" },
                    { name: "ì§¬ë½•ì§€ì¡´", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì§¬ë½•ì§€ì¡´", mapLink: "https://naver.me/FK5QcNS2" },
                    { name: "ë€ì½°ì´í‘ëˆ„ë“¤", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ë€ì½°ì´í‘ëˆ„ë“¤", mapLink: "https://naver.me/FRLN0I9M" }
                ],
                "ì–‘ì‹": [
                    { name: "ê³ ë¦´ë¼ì‰í”„", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ê³ ë¦´ë¼ì‰í”„", mapLink: "https://naver.me/xAFCl2CA" },
                    { name: "ë²„ê±°í‚¹(ë§ˆê³¡ì / ë§ˆê³¡ì›ê·¸ë¡œë¸Œëª°Dì )", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ë²„ê±°í‚¹", mapLink: "" },
                    { name: "í—¤ë¹„ìŠ¤í…Œì´í¬", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ í—¤ë¹„ìŠ¤í…Œì´í¬", mapLink: "https://naver.me/xKERW8FF" },
                    { name: "ë² ì–´ìŠ¤íƒ€ì½”", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ë² ì–´ìŠ¤íƒ€ì½”", mapLink: "https://naver.me/GfCkFu0C" }
                ],
                "ìƒëŸ¬ë“œ": [
                    { name: "ì €ìŠ¤íŠ¸ìƒëŸ¬ë“œ", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì €ìŠ¤íŠ¸ìƒëŸ¬ë“œ", mapLink: "https://naver.me/xGIhLV6A" },
                    { name: "ì˜¬ë¼í¬ì¼€", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì˜¬ë¼í¬ì¼€", mapLink: "https://naver.me/FQVXPbP2" },                    
                    { name: "ìƒëŸ¬ë””", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ìƒëŸ¬ë””", mapLink: "https://naver.me/Fioxx1je" },
                    { name: "í›…íŠ¸í¬ì¼€", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ í›…íŠ¸í¬ì¼€", mapLink: "https://naver.me/FBeXgiSD" },                    
                    { name: "ìƒëª¨ë‹", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ìƒëª¨ë‹", mapLink: "https://naver.me/Fio7VcVs" }
                ],
                "ì¹´í˜": [
                    { name: "í ë² ì´ê¸€", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ í ë² ì´ê¸€", mapLink: "https://naver.me/GdymuQCD" },                    
                    { name: "í•˜ìš°ìŠ¬ë¦¬", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ í•˜ìš°ìŠ¬ë¦¬", mapLink: "https://naver.me/5wWeeefo" },
                    { name: "í•´ë¦¬ìŠ¤í—¤ì´ìŠ¤", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ í•´ë¦¬ìŠ¤í—¤ì´ìŠ¤", mapLink: "https://naver.me/FHlgE8BR" }, 
                    { name: "ì‹œë„ë‹ˆì•„", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì‹œë„ë‹ˆì•„", mapLink: "https://naver.me/GCvpZEvn" },
                    { name: "ì œì´ê·¸ë¨", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì œì´ê·¸ë¨", mapLink: "https://naver.me/GMmKOzIR" },
                    { name: "ìŠ¤íƒ€ë²…ìŠ¤(ë§ˆê³¡ì /ë§ˆê³¡GMGì /ë§ˆê³¡ì‚¬ì´ì–¸ìŠ¤íƒ€ì›ŒRì /ì›ê·¸ë¡œë¸ŒB1ì )", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ìŠ¤íƒ€ë²…ìŠ¤", mapLink: "" },
                    { name: "íŒŒë¦¬ë°”ê²Œëœ¨", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ íŒŒë¦¬ë°”ê²Œëœ¨", mapLink: "https://naver.me/xwmsZZEO" },
                    { name: "ì˜¤ì§€ì˜¤ì»¤í”¼", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì˜¤ì§€ì˜¤ì»¤í”¼", mapLink: "https://naver.me/GyYbmK4Z" },
                    { name: "ë‚˜ì´ìŠ¤ì¹´í˜ì¸í´ëŸ½", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ë‚˜ì´ìŠ¤ì¹´í˜ì¸í´ëŸ½", mapLink: "https://naver.me/5D8Yv29I" },
                    { name: "ì»¤í”¼ì‚¬í”¼ì—”ìŠ¤", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì»¤í”¼ì‚¬í”¼ì—”ìŠ¤", mapLink: "https://naver.me/FxFKqklm" },
                    { name: "ì•¤ë´ì»¤í”¼", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì•¤ë´ì»¤í”¼", mapLink: "https://naver.me/FK5vnQCx" },
                    { name: "ì¹´í˜ë””ì–¼", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì¹´í˜ë””ì–¼", mapLink: "https://naver.me/FLy7UY7r" },
                    { name: "ë¡œìŠ¤í„°ë¦¬ë½ì˜¨", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ë¡œìŠ¤í„°ë¦¬ë½ì˜¨", mapLink: "https://naver.me/xY4MxryG" },
                    { name: "ì½œíŠ¸í´ëŸ½", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì½œíŠ¸í´ëŸ½", mapLink: "https://naver.me/xwmqyFI6" },
                    { name: "ì»´í¬ì¦ˆì»¤í”¼", address: "ì„œìš¸ ê°•ì„œêµ¬ ë§ˆê³¡ë™ ì»´í¬ì¦ˆì»¤í”¼", mapLink: "https://naver.me/xoH8WkV2" }
                ]
            };

            // ì‚¬ìš©ìê°€ ì¶”ê°€/ì‚­ì œí•œ ì‹ë‹¹ì„ ì €ì¥í•  ê°ì²´ (ì¹´í…Œê³ ë¦¬ë³„)
            let userRestaurants = {};

            let itemHeight = 100; // ìŠ¬ë¡¯ ì•„ì´í…œ í•˜ë‚˜ì˜ ë†’ì´ (CSSì™€ ë™ê¸°í™”)
            let isSpinning = false; // ë£°ë › íšŒì „ ì¤‘ì¸ì§€ ì—¬ë¶€
            let lastResultRestaurant = null; // ë§ˆì§€ë§‰ ë£°ë › ê²°ê³¼ ì‹ë‹¹ ê°ì²´ (ì´ë¦„ê³¼ ì£¼ì†Œ í¬í•¨)

            // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì‹ë‹¹ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
            function loadRestaurants() {
                const storedUserRestaurants = localStorage.getItem('userRestaurants');
                if (storedUserRestaurants) {
                    userRestaurants = JSON.parse(storedUserRestaurants);
                    // ê¸°ì¡´ ë°ì´í„°ì— mapLink í•„ë“œê°€ ì—†ì„ ê²½ìš°ë¥¼ ëŒ€ë¹„í•˜ì—¬ ì¶”ê°€
                    for (const category in userRestaurants) {
                        userRestaurants[category] = userRestaurants[category].map(item => ({
                            name: item.name,
                            address: item.address || `ë§ˆê³¡ ${item.name} ì£¼ì†Œ (ìˆ˜ì • í•„ìš”)`, // ê¸°ì¡´ ì£¼ì†Œ ì—†ìœ¼ë©´ ì„ì‹œ ì£¼ì†Œ í• ë‹¹
                            mapLink: item.mapLink || "" // mapLink ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìì—´ í• ë‹¹
                        }));
                    }
                } else {
                    // ì²˜ìŒ ë¡œë“œ ì‹œ ê¸°ë³¸ ì‹ë‹¹ ëª©ë¡ì„ userRestaurantsì— ê¹Šì€ ë³µì‚¬
                    for (const category in defaultRestaurantsByCategory) {
                        userRestaurants[category] = defaultRestaurantsByCategory[category].map(item => ({ ...item }));
                    }
                }
                // 'ì „ì²´' ì¹´í…Œê³ ë¦¬ ì—…ë°ì´íŠ¸
                updateAllCategory();
                renderSlotItems();
                renderEditList();
            }

            // 'ì „ì²´' ì¹´í…Œê³ ë¦¬ ì‹ë‹¹ ëª©ë¡ì„ ëª¨ë“  ì¹´í…Œê³ ë¦¬ì˜ ì‹ë‹¹ìœ¼ë¡œ ì—…ë°ì´íŠ¸
            function updateAllCategory() {
                let allRestaurants = [];
                for (const category in userRestaurants) {
                    if (category !== "ì „ì²´") { // 'ì „ì²´' ì¹´í…Œê³ ë¦¬ ìì²´ëŠ” í¬í•¨í•˜ì§€ ì•ŠìŒ
                        allRestaurants = allRestaurants.concat(userRestaurants[category]);
                    }
                }
                // ì¤‘ë³µ ì œê±° (ì´ë¦„ ê¸°ì¤€ìœ¼ë¡œ ì¤‘ë³µ ì œê±°)
                const uniqueRestaurants = [];
                const seenNames = new Set();
                allRestaurants.forEach(restaurant => {
                    if (!seenNames.has(restaurant.name)) {
                        uniqueRestaurants.push(restaurant);
                        seenNames.add(restaurant.name);
                    }
                });
                userRestaurants["ì „ì²´"] = uniqueRestaurants;
            }

            // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì‹ë‹¹ ëª©ë¡ ì €ì¥
            function saveRestaurants() {
                localStorage.setItem('userRestaurants', JSON.stringify(userRestaurants));
                updateAllCategory(); // ì €ì¥ í›„ 'ì „ì²´' ì¹´í…Œê³ ë¦¬ë„ ì—…ë°ì´íŠ¸
                renderSlotItems(); // ìŠ¬ë¡¯ ì•„ì´í…œ ë‹¤ì‹œ ë Œë”ë§
            }

            // ì¹´í…Œê³ ë¦¬ ë“œë¡­ë‹¤ìš´ ì˜µì…˜ ë Œë”ë§
            function renderCategoryOptions() {
                categorySelect.innerHTML = ''; // ê¸°ì¡´ ì˜µì…˜ ì´ˆê¸°í™”
                const categories = Object.keys(defaultRestaurantsByCategory); // ê¸°ë³¸ ì¹´í…Œê³ ë¦¬ ìˆœì„œ ìœ ì§€

                // 'ì „ì²´' ì¹´í…Œê³ ë¦¬ë¥¼ ê°€ì¥ ìœ„ì— ì¶”ê°€
                const allOption = document.createElement('option');
                allOption.value = "ì „ì²´";
                allOption.textContent = "ì „ì²´";
                categorySelect.appendChild(allOption);

                // ë‚˜ë¨¸ì§€ ì¹´í…Œê³ ë¦¬ ì¶”ê°€
                categories.forEach(category => {
                    if (category !== "ì „ì²´") {
                        const option = document.createElement('option');
                        option.value = category;
                        option.textContent = category;
                        categorySelect.appendChild(option);
                    }
                });

                // ì´ì „ì— ì„ íƒëœ ì¹´í…Œê³ ë¦¬ ë¶ˆëŸ¬ì˜¤ê¸°
                const savedCategory = localStorage.getItem('selectedCategory');
                if (savedCategory && categories.includes(savedCategory)) {
                    categorySelect.value = savedCategory;
                } else {
                    categorySelect.value = "ì „ì²´"; // ê¸°ë³¸ê°’ ì„¤ì •
                }
            }

            // í˜„ì¬ ì„ íƒëœ ì¹´í…Œê³ ë¦¬ì˜ ì‹ë‹¹ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
            function getCurrentCategoryRestaurants() {
                const selectedCategory = categorySelect.value;
                return userRestaurants[selectedCategory] || [];
            }

            // ë£°ë › ìŠ¬ë¡¯ ì•„ì´í…œ ë Œë”ë§
            function renderSlotItems() {
                slotContentWrapper.innerHTML = ''; // ê¸°ì¡´ ì•„ì´í…œ ì´ˆê¸°í™”
                const currentRestaurants = getCurrentCategoryRestaurants();

                if (currentRestaurants.length === 0) {
                    const noItem = document.createElement('div');
                    noItem.classList.add('slot-item');
                    noItem.textContent = "ì‹ë‹¹ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”!";
                    slotContentWrapper.appendChild(noItem);
                    spinButton.disabled = true; // ì‹ë‹¹ì´ ì—†ìœ¼ë©´ ëŒë¦¬ê¸° ë²„íŠ¼ ë¹„í™œì„±í™”
                    mapButton.style.display = 'none'; // ì§€ë„ ë²„íŠ¼ ìˆ¨ê¸°ê¸°
                    resultText.textContent = ""; // ê²°ê³¼ í…ìŠ¤íŠ¸ ì´ˆê¸°í™”
                    return;
                } else {
                    spinButton.disabled = false; // ì‹ë‹¹ì´ ìˆìœ¼ë©´ ëŒë¦¬ê¸° ë²„íŠ¼ í™œì„±í™”
                }

                // ë£°ë › íš¨ê³¼ë¥¼ ìœ„í•´ ëª©ë¡ì„ ì—¬ëŸ¬ ë²ˆ ë°˜ë³µí•˜ì—¬ ì¶”ê°€
                const repeatCount = 3; // ì¶©ë¶„íˆ ê¸¸ê²Œ ë³´ì´ë„ë¡ ë°˜ë³µ íšŸìˆ˜ ì„¤ì •
                for (let i = 0; i < repeatCount; i++) {
                    currentRestaurants.forEach(restaurant => {
                        const item = document.createElement('div');
                        item.classList.add('slot-item');
                        item.textContent = restaurant.name; // ì‹ë‹¹ ì´ë¦„ í‘œì‹œ
                        slotContentWrapper.appendChild(item);
                    });
                }
                // renderSlotItemsê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ itemHeightë¥¼ ì—…ë°ì´íŠ¸í•˜ì—¬ ì •í™•ì„±ì„ ë†’ì…ë‹ˆë‹¤.
                if (slotContentWrapper.querySelector('.slot-item')) {
                    itemHeight = slotContentWrapper.querySelector('.slot-item').offsetHeight;
                }
            }

            // ë£°ë › ëŒë¦¬ê¸° í•¨ìˆ˜
            function spinSlot() {
                if (isSpinning) return; // ì´ë¯¸ íšŒì „ ì¤‘ì´ë©´ ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€

                const currentRestaurants = getCurrentCategoryRestaurants();
                if (currentRestaurants.length === 0) {
                    resultText.textContent = "ì„ íƒëœ ì¹´í…Œê³ ë¦¬ì— ì‹ë‹¹ì´ ì—†ìŠµë‹ˆë‹¤.";
                    return;
                }

                isSpinning = true;
                spinButton.disabled = true; // ëŒë¦¬ê¸° ë²„íŠ¼ ë¹„í™œì„±í™”
                mapButton.style.display = 'none'; // ì§€ë„ ë²„íŠ¼ ìˆ¨ê¸°ê¸°
                resultText.textContent = ""; // ê²°ê³¼ í…ìŠ¤íŠ¸ ì´ˆê¸°í™”

                // Ensure itemHeight is correct before spin
                const tempSlotItem = slotContentWrapper.querySelector('.slot-item');
                if (tempSlotItem) {
                    itemHeight = tempSlotItem.offsetHeight;
                } else {
                    console.error("No slot items to determine height, cannot spin.");
                    isSpinning = false;
                    spinButton.disabled = false;
                    return;
                }

                // ë¬´ì‘ìœ„ë¡œ ë‹¹ì²¨ë  ì‹ë‹¹ ì¸ë±ìŠ¤ ì„ íƒ
                const randomIndex = Math.floor(Math.random() * currentRestaurants.length);
                const winningRestaurant = currentRestaurants[randomIndex]; // ì‹ë‹¹ ê°ì²´ ê°€ì ¸ì˜¤ê¸°
                lastResultRestaurant = winningRestaurant; // ê²°ê³¼ ì‹ë‹¹ ê°ì²´ ì €ì¥

                // ìµœì¢… ì •ì§€ ìœ„ì¹˜ ê³„ì‚°: ì¤‘ê°„ì— ìˆëŠ” ë°˜ë³µëœ ëª©ë¡ì˜ ë‹¹ì²¨ ì‹ë‹¹ìœ¼ë¡œ ì´ë™
                // (ì˜ˆ: repeatCountê°€ 3ì´ë©´, ë‘ ë²ˆì§¸ ë°˜ë³µ ë¸”ë¡ì˜ í•´ë‹¹ ì‹ë‹¹ìœ¼ë¡œ ì •ì§€)
                const targetBlockIndex = 1; // ë‘ ë²ˆì§¸ ë¸”ë¡ (0ë¶€í„° ì‹œì‘)
                const finalPositionInWrapper = (targetBlockIndex * currentRestaurants.length) + randomIndex;
                const finalY = -finalPositionInWrapper * itemHeight;

                // ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘ ì§€ì  ê³„ì‚°: ì¶©ë¶„í•œ íšŒì „ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ ìµœì¢… ìœ„ì¹˜ë³´ë‹¤ í›¨ì”¬ ìœ„ì— ìˆëŠ” ê³ ì •ëœ ì§€ì ì—ì„œ ì‹œì‘
                const minSpinDistance = 50 * itemHeight; // ìµœì†Œ 50ê°œ ì•„ì´í…œ ë†’ì´ë§Œí¼ ìŠ¤í¬ë¡¤
                const initialY = -(minSpinDistance + Math.abs(finalY)); 

                // ì¦‰ì‹œ ì´ˆê¸° ìœ„ì¹˜ ì„¤ì • (ì• ë‹ˆë©”ì´ì…˜ ì—†ì´)
                gsap.set(slotContentWrapper, { y: initialY });

                // GSAPë¥¼ ì´ìš©í•œ ì• ë‹ˆë©”ì´ì…˜: ì‹œì‘ì ì—ì„œ ìµœì¢…ì ê¹Œì§€ ë¶€ë“œëŸ½ê²Œ ê°ì†
                gsap.to(slotContentWrapper, {
                    y: finalY,
                    duration: 4, // ì• ë‹ˆë©”ì´ì…˜ ì§€ì† ì‹œê°„
                    ease: "power3.out", // ë¶€ë“œëŸ¬ìš´ ê°ì† íš¨ê³¼ (ì²˜ìŒì—” ë¹ ë¥´ê³  ì ì  ëŠë ¤ì§€ë‹¤ ë©ˆì¶¤)
                    onComplete: () => {
                        isSpinning = false;
                        spinButton.disabled = false; // ëŒë¦¬ê¸° ë²„íŠ¼ í™œì„±í™”
                        // ë¬¸êµ¬ ë³€ê²½: 'ì˜¤ëŠ˜ì˜ ì ì‹¬ì€ [ì‹ë‹¹ì´ë¦„]!' -> 'ì˜¤ëŠ˜ì€ [ì‹ë‹¹ì´ë¦„]ì—ì„œ ë¨¹ì–´ìš”!'
                        resultText.innerHTML = `ì˜¤ëŠ˜ì€ <span class="result-restaurant-name">${winningRestaurant.name}</span>ì—ì„œ ë¨¹ì–´ìš”!`;
                        
                        mapButton.style.display = 'inline-block'; // ì§€ë„ ë²„íŠ¼ í‘œì‹œ
                        // ì• ë‹ˆë©”ì´ì…˜ ì¢…ë£Œ í›„ ì •í™•í•œ ìœ„ì¹˜ì— ì •ë ¬ (í”½ì…€ ì˜¤ì°¨ ë³´ì •)
                        gsap.set(slotContentWrapper, { y: finalY });
                    }
                });
            }

            // ì‹ë‹¹ ì¶”ê°€ ëª¨ë‹¬ ì—´ê¸°
            addButton.addEventListener('click', () => {
                addModal.style.display = 'flex';
                restaurantInput.value = ''; // ì…ë ¥ì°½ ì´ˆê¸°í™”
            });

            // ì‹ë‹¹ ëª©ë¡ í¸ì§‘ ëª¨ë‹¬ ì—´ê¸°
            editButton.addEventListener('click', () => {
                editModal.style.display = 'flex';
                renderEditList(); // ëª©ë¡ ë‹¤ì‹œ ë Œë”ë§
            });

            // ë„ì›€ë§ ëª¨ë‹¬ ì—´ê¸°
            helpButton.addEventListener('click', () => {
                helpModal.style.display = 'flex';
            });

            // ì§€ë„ ë³´ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ ë„¤ì´ë²„ ì§€ë„ ì—´ê¸°
            mapButton.addEventListener('click', () => {
                if (lastResultRestaurant) {
                    let searchUrl;
                    // mapLinkê°€ ìœ íš¨í•œ URLì¸ì§€ í™•ì¸ (http ë˜ëŠ” httpsë¡œ ì‹œì‘)
                    if (lastResultRestaurant.mapLink && (lastResultRestaurant.mapLink.startsWith('http://') || lastResultRestaurant.mapLink.startsWith('https://'))) {
                        // ì§ì ‘ ë§í¬ê°€ ìˆë‹¤ë©´ í•´ë‹¹ ë§í¬ë¡œ ì´ë™
                        searchUrl = lastResultRestaurant.mapLink;
                    } else {
                        // ì§ì ‘ ë§í¬ê°€ ì—†ê±°ë‚˜ ìœ íš¨í•˜ì§€ ì•Šìœ¼ë©´ ì£¼ì†Œ ë˜ëŠ” ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰
                        const addressToSearch = lastResultRestaurant.address && !lastResultRestaurant.address.includes('ìˆ˜ì • í•„ìš”') ? lastResultRestaurant.address : lastResultRestaurant.name;
                        searchUrl = `https://map.naver.com/p/search/${encodeURIComponent(addressToSearch)}`;
                    }
                    window.open(searchUrl, '_blank');
                }
            });

            // ì‹ë‹¹ ì¶”ê°€ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
            addRestaurantToListButton.addEventListener('click', () => {
                const input = restaurantInput.value.trim();
                if (input) {
                    const newRestaurantNames = input.split(/[\n,]+/).map(item => item.trim()).filter(item => item !== '');
                    const selectedCategory = categorySelect.value;

                    if (!userRestaurants[selectedCategory]) {
                        userRestaurants[selectedCategory] = [];
                    }

                    newRestaurantNames.forEach(newRestName => {
                        // ìƒˆë¡œìš´ ì‹ë‹¹ì€ ì„ì‹œ ì£¼ì†Œì™€ ë¹ˆ mapLinkì™€ í•¨ê»˜ ê°ì²´ë¡œ ì €ì¥
                        const newRestaurantObject = { name: newRestName, address: `ë§ˆê³¡ ${newRestName} ì£¼ì†Œ (ìˆ˜ì • í•„ìš”)`, mapLink: "" };
                        // ì¤‘ë³µ ì¶”ê°€ ë°©ì§€ (ì´ë¦„ ê¸°ì¤€ìœ¼ë¡œ í™•ì¸)
                        if (!userRestaurants[selectedCategory].some(r => r.name === newRestName)) {
                            userRestaurants[selectedCategory].push(newRestaurantObject);
                        }
                    });

                    saveRestaurants(); // ë³€ê²½ì‚¬í•­ ì €ì¥
                    renderSlotItems(); // ìŠ¬ë¡¯ ì•„ì´í…œ ì—…ë°ì´íŠ¸
                    restaurantInput.value = ''; // ì…ë ¥ì°½ ì´ˆê¸°í™”
                    addModal.style.display = 'none'; // ëª¨ë‹¬ ë‹«ê¸°
                }
            });

            // í¸ì§‘ ëª©ë¡ ë Œë”ë§ í•¨ìˆ˜
            function renderEditList() {
                restaurantListEdit.innerHTML = ''; // ëª©ë¡ ì´ˆê¸°í™”
                const selectedCategory = categorySelect.value;
                const restaurantsToEdit = userRestaurants[selectedCategory] || [];

                if (restaurantsToEdit.length === 0) {
                    const li = document.createElement('li');
                    li.textContent = "ì´ ì¹´í…Œê³ ë¦¬ì— ì‹ë‹¹ì´ ì—†ìŠµë‹ˆë‹¤.";
                    restaurantListEdit.appendChild(li);
                    return;
                }

                restaurantsToEdit.forEach((restaurant, index) => { // restaurantëŠ” ì´ì œ ê°ì²´
                    const li = document.createElement('li');
                    li.innerHTML = `
                        <span>${restaurant.name}</span>
                        <div class="button-wrapper">
                            <button class="edit-btn" data-index="${index}">ìˆ˜ì •</button>
                            <button class="delete-btn" data-index="${index}">ì‚­ì œ</button>
                        </div>
                    `;
                    restaurantListEdit.appendChild(li);
                });

                // ìˆ˜ì • ë° ì‚­ì œ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
                addEditDeleteListeners();
            }

            // ìˆ˜ì • ë° ì‚­ì œ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ í•¨ìˆ˜
            function addEditDeleteListeners() {
                const editButtons = document.querySelectorAll('#restaurantListEdit .edit-btn');
                const deleteButtons = document.querySelectorAll('#restaurantListEdit .delete-btn');
                const selectedCategory = categorySelect.value;

                editButtons.forEach(button => {
                    button.addEventListener('click', (event) => {
                        const indexToEdit = parseInt(event.target.dataset.index);
                        const currentRestaurant = userRestaurants[selectedCategory][indexToEdit]; // ì‹ë‹¹ ê°ì²´ ê°€ì ¸ì˜¤ê¸°
                        const currentRestaurantName = currentRestaurant.name; // ê°ì²´ì—ì„œ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°
                        const li = event.target.closest('li');
                        const span = li.querySelector('span');

                        // ìˆ˜ì • ì…ë ¥ í•„ë“œë¡œ ë³€ê²½
                        span.innerHTML = `<input type="text" class="edit-input" value="${currentRestaurantName}">`;
                        const editInput = span.querySelector('.edit-input');
                        editInput.focus();

                        // ìˆ˜ì • ë²„íŠ¼ì„ ì €ì¥ ë²„íŠ¼ìœ¼ë¡œ ë³€ê²½
                        event.target.textContent = 'ì €ì¥';
                        event.target.classList.remove('edit-btn');
                        event.target.classList.add('save-btn');

                        // ì €ì¥ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
                        event.target.addEventListener('click', (saveEvent) => {
                            const newName = editInput.value.trim();
                            if (newName && newName !== currentRestaurantName) {
                                // ì¤‘ë³µ í™•ì¸ (í˜„ì¬ ì¹´í…Œê³ ë¦¬ ë‚´ì—ì„œ ì´ë¦„ìœ¼ë¡œë§Œ í™•ì¸)
                                if (userRestaurants[selectedCategory].some(r => r.name === newName)) {
                                    showCustomAlert("ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì‹ë‹¹ ì´ë¦„ì…ë‹ˆë‹¤.");
                                    return;
                                }
                                userRestaurants[selectedCategory][indexToEdit].name = newName; // ê°ì²´ì˜ ì´ë¦„ ì†ì„±ë§Œ ì—…ë°ì´íŠ¸
                                // ì£¼ì†Œì™€ mapLinkëŠ” í˜„ì¬ í¸ì§‘ UIì—ì„œ ìˆ˜ì •í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ê·¸ëŒ€ë¡œ ìœ ì§€
                                saveRestaurants();
                                renderEditList(); // ëª©ë¡ ë‹¤ì‹œ ë Œë”ë§
                            } else {
                                renderEditList(); // ë³€ê²½ì‚¬í•­ ì—†ìœ¼ë©´ ì›ë˜ëŒ€ë¡œ ëŒë¦¼
                            }
                        }, { once: true }); // í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ë„ë¡ ì„¤ì •
                    });
                });

                deleteButtons.forEach(button => {
                    button.addEventListener('click', (event) => {
                        const indexToDelete = parseInt(event.target.dataset.index);
                        const deletedRestaurantName = userRestaurants[selectedCategory][indexToDelete].name; // í™•ì¸ ë©”ì‹œì§€ë¥¼ ìœ„í•´ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°

                        // confirm ëŒ€ì‹  ëª¨ë‹¬ ì‚¬ìš©
                        showCustomConfirm(`${deletedRestaurantName}ì„(ë¥¼) ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ??`, () => {
                            userRestaurants[selectedCategory].splice(indexToDelete, 1); // ê°ì²´ ì‚­ì œ
                            saveRestaurants();
                            renderEditList();
                            renderSlotItems();
                        });
                    });
                });
            }

            // ì»¤ìŠ¤í…€ ì•Œë¦¼ ëª¨ë‹¬
            function showCustomAlert(message) {
                const alertModal = document.createElement('div');
                alertModal.classList.add('modal');
                alertModal.style.display = 'flex';
                alertModal.innerHTML = `
                    <div class="modal-content">
                        <h2>ì•Œë¦¼</h2>
                        <p>${message}</p>
                        <button class="btn custom-alert-ok-btn">í™•ì¸</button>
                    </div>
                `;
                document.body.appendChild(alertModal);

                alertModal.querySelector('.custom-alert-ok-btn').addEventListener('click', () => {
                    document.body.removeChild(alertModal);
                });

                alertModal.addEventListener('click', (event) => {
                    if (event.target === alertModal) {
                        document.body.removeChild(alertModal);
                    }
                });
            }

            // ì»¤ìŠ¤í…€ í™•ì¸ ëª¨ë‹¬
            function showCustomConfirm(message, onConfirm) {
                const confirmModal = document.createElement('div');
                confirmModal.classList.add('modal');
                confirmModal.style.display = 'flex';
                confirmModal.innerHTML = `
                    <div class="modal-content">
                        <h2>í™•ì¸</h2>
                        <p>${message}</p>
                        <div class="button-container">
                            <button class="btn custom-confirm-ok-btn">ì˜ˆ</button>
                            <button class="btn custom-confirm-cancel-btn" style="background-color: #6c757d;">ì•„ë‹ˆì˜¤</button>
                        </div>
                    </div>
                `;
                document.body.appendChild(confirmModal);

                confirmModal.querySelector('.custom-confirm-ok-btn').addEventListener('click', () => {
                    onConfirm();
                    document.body.removeChild(confirmModal);
                });

                confirmModal.querySelector('.custom-confirm-cancel-btn').addEventListener('click', () => {
                    document.body.removeChild(confirmModal);
                });

                confirmModal.addEventListener('click', (event) => {
                    if (event.target === confirmModal) {
                        document.body.removeChild(confirmModal);
                    }
                });
            }


            // ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸
            closeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    addModal.style.display = 'none';
                    editModal.style.display = 'none';
                    helpModal.style.display = 'none';
                    // ëª¨ë‹¬ì´ ë‹«í ë•Œ í¸ì§‘ ëª©ë¡ì„ ë‹¤ì‹œ ë Œë”ë§í•˜ì—¬ ìˆ˜ì • ì¤‘ì¸ ìƒíƒœë¥¼ ì´ˆê¸°í™”
                    renderEditList();
                });
            });

            // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
            window.addEventListener('click', (event) => {
                if (event.target === addModal) {
                    addModal.style.display = 'none';
                }
                if (event.target === editModal) {
                    editModal.style.display = 'none';
                }
                if (event.target === helpModal) {
                    helpModal.style.display = 'none';
                }
            });

            // ì´ˆê¸° ë¡œë“œ ì‹œ ì‹¤í–‰
            loadRestaurants(); // ì‹ë‹¹ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
            renderCategoryOptions(); // ì¹´í…Œê³ ë¦¬ ì˜µì…˜ ë Œë”ë§
            renderSlotItems(); // ì´ˆê¸° ìŠ¬ë¡¯ ì•„ì´í…œ ë Œë”ë§

            // ì¹´í…Œê³ ë¦¬ ì„ íƒ ë³€ê²½ ì‹œ ì´ë²¤íŠ¸
            categorySelect.addEventListener('change', () => {
                localStorage.setItem('selectedCategory', categorySelect.value); // ì„ íƒëœ ì¹´í…Œê³ ë¦¬ ì €ì¥
                renderSlotItems(); // ì„ íƒëœ ì¹´í…Œê³ ë¦¬ì— ë§ì¶° ìŠ¬ë¡¯ ì•„ì´í…œ ë‹¤ì‹œ ë Œë”ë§
                resultText.textContent = ""; // ê²°ê³¼ í…ìŠ¤íŠ¸ ì´ˆê¸°í™”
                mapButton.style.display = 'none'; // ì§€ë„ ë²„íŠ¼ ìˆ¨ê¸°ê¸°
            });

            // ë£°ë › ëŒë¦¬ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸
            spinButton.addEventListener('click', spinSlot);

            // ìœˆë„ìš° ë¡œë“œ ì‹œ ìŠ¬ë¡¯ ì•„ì´í…œ ë†’ì´ ì„¤ì • (ì´ˆê¸° ë Œë”ë§ í›„)
            // ì´ ë¶€ë¶„ì€ renderSlotItems í•¨ìˆ˜ ë‚´ì—ì„œ ë” ìì£¼ ì—…ë°ì´íŠ¸ë˜ë¯€ë¡œ ì—¬ê¸°ì„œëŠ” ì œê±°í•˜ê±°ë‚˜ ì´ˆê¸°ê°’ ì„¤ì •ìš©ìœ¼ë¡œë§Œ ì‚¬ìš©
            // window.addEventListener('load', () => {
            //     if (slotContentWrapper.querySelector('.slot-item')) {
            //         itemHeight = slotContentWrapper.querySelector('.slot-item').offsetHeight;
            //     }
            // });
        });
    </script>
</body>
</html>
